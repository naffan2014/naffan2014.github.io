<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xml" href="http://localhost:4000/feed.xslt.xml"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.3.1">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2017-02-08T14:55:02+08:00</updated><id>http://localhost:4000//</id><title type="html">拿饭网</title><subtitle>拿饭网是一个私人博客系统，采用jekyll博客系统部署在GitHub-Pages服务上。拿饭网内的文章均出自作者，作者以技术为导向同时兼顾自己的生活与对经济的观点。</subtitle><author><name>张一帆</name></author><entry><title type="html">开通这个专栏的意义</title><link href="http://localhost:4000/thinking/2017/02/08/01.html" rel="alternate" type="text/html" title="开通这个专栏的意义" /><published>2017-02-08T00:00:00+08:00</published><updated>2017-02-08T00:00:00+08:00</updated><id>http://localhost:4000/thinking/2017/02/08/01</id><content type="html" xml:base="http://localhost:4000/thinking/2017/02/08/01.html">&lt;p&gt;　　近些年一直在想着多读点能够提升自己思维的书籍并且自己也做了一些尝试。因为，我觉得人越来越大思维就不能对所有的事凭借着还是稚嫩的逻辑去理解，社会上的事情往往不那么简单，再简单的事情背后都会有着为什么会这样发生的各种原因。最近，也是遇到了一些事情让自己对思考的需求最大化。所以，我就开通了这个栏目。希望借着在自己生活中的点点滴滴都能够引起我足够的重视，再通过自己的思考得出真正经过加工的结果。&lt;/p&gt;

&lt;p&gt;　　开通这个专栏的第一件事情就是要为它取个名字，取名字这种事也很让人伤脑筋的，各种关于思考的词汇仿佛怕被你找到一样，刚刚还在你眼前晃荡，这一下子就消失的无影无踪，任凭你怎么去找它，它就是不让你找到。后来，终于找到了沈思默想这个词组，沈思默想意既静静地深思，我想思考是需要静下心来慢慢琢磨出所以然，所以此词最好。并且沈思通深思，对我来说有特别的纪念意义。最终，我将这个词组当做了这个栏目的栏目名称。&lt;/p&gt;

&lt;p&gt;　　有的时候在你想到一些东西的时候想要立刻将其记录下来，然而当你提起笔来的时候却发现之前的想法早已飘散了。这其实是一种问题，这说明自己的思维不具有连贯性。这样的事情发生的越多就越说明这种能力越弱，对于那些编辑或者文工的公众来说这个能力就相当的强，所以他们能言善辩，能够说出更加有说服力的句子来。那么，像我们有这方面弱势的人就需要勤加练习。只有这样，我们才能够让自己的思维更加连贯，让自己的思考更加深刻。这也就是我想开通这个专栏的真正意义所在。&lt;/p&gt;

&lt;p&gt;　　望自己能够在今后的生活中不断的填充起这个栏目的内容，可以写出一些让大家都愿意读且能够激发读者们自己思考的文章来。虽然知道这件事情很难，但是难也要坚持住，前期会是痛苦的，但是习惯了以后就会变得越加轻松且游刃有余起来，给自己的收获也会是大大的。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="thinking" /><category term="思考" /><summary type="html">　　近些年一直在想着多读点能够提升自己思维的书籍并且自己也做了一些尝试。因为，我觉得人越来越大思维就不能对所有的事凭借着还是稚嫩的逻辑去理解，社会上的事情往往不那么简单，再简单的事情背后都会有着为什么会这样发生的各种原因。最近，也是遇到了一些事情让自己对思考的需求最大化。所以，我就开通了这个栏目。希望借着在自己生活中的点点滴滴都能够引起我足够的重视，再通过自己的思考得出真正经过加工的结果。</summary></entry><entry><title type="html">通过nodejs搭建客服系统还有闲谈</title><link href="http://localhost:4000/tech/2017/01/25/1.html" rel="alternate" type="text/html" title="通过nodejs搭建客服系统还有闲谈" /><published>2017-01-25T00:00:00+08:00</published><updated>2017-01-25T00:00:00+08:00</updated><id>http://localhost:4000/tech/2017/01/25/1</id><content type="html" xml:base="http://localhost:4000/tech/2017/01/25/1.html">&lt;blockquote&gt;
  &lt;p&gt;本文所述的游云客服系统，网址为&lt;a href=&quot;http://cs.17youyun.com&quot;&gt;cs.17youyun.com&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　从12月开始，公司要我们为宝库搭建一套客服系统。本来是做通讯的我们，因为自身业务单一，技术经验少，推广比不过竞品，再加上本身通讯行业的技术壁垒较高，导致我们的产品战略从年初计划的对外产品慢慢转向了对内的支持服务。后来，公司专一重点项目后，我们也即将成为一个转型部门。在这一节骨眼上我们渴望获得一次机会进行证明，同时也期望能够在2016年底给我们自己做一个收官。经过看起来不是很顺利的沟通后，宝库同意将对客服的需求交托于我们部门做，所以这也是我们能够称的上是救命稻草的一线希望。&lt;/p&gt;

&lt;p&gt;　　在年中我们在运营着自己的sdk，这个sdk是给开发人员对接移动端push需求而开发的。除了push功能以外，我们也开发着voip以及聊天室等项目。&lt;a href=&quot;www.17youyun.com&quot;&gt;游云网站&lt;/a&gt;是我们呈现给开发者的接入网站，开发者在接入的时候可以在这个网站中看到各种定制化的推送服务。游云网站是由我一人开发起来的，虽然与竞品网站比起来有些小巫见大巫，但是也是充满着对通讯行业的一些窥视。后因工作需要，我们需要给游云接入一个web版的demo，望借以此呈现个开发者用户一个更加直观的体验，所以后来就有了&lt;a href=&quot;web.17youyun.com&quot;&gt;web游云&lt;/a&gt;这个功能，这个网站是利用cometd技术做的，因为公司前身是当年在新浪红极一时的项目-微米。到现在我还记得，当年在新浪的时候上级压下来的任务就是每天都要登录微米发信息，而且那年年会上还专门有个项目奖颁发给了微米，可谁又能够想到微米团队内部出现分歧，技术团队叛变，造成彭极其尴尬，最终死的很惨。话说回来，自从工作以来已经两次接触了cometd这个玩意了。记得第一次接触这玩意的时候自己还是个初出茅庐的小伙子，那个时候正好要对&lt;a href=&quot;kan.sina.com&quot;&gt;看游戏&lt;/a&gt;进行大改版。后来，研究了半天最终也没搞清楚个大概，只能沿着老人们的代码一点一点调试，现在回忆起来那个时候的调试方法极其笨拙，再加上自己对项目的理解很差，所以虽然顺利改完版了，但是对自己的成长真的没有太多，只能说自己知道这个是什么玩意了。现在时间已经过去了4年了，再来看cometd多少还是有些抵触的。可是，项目压下来自己也没有办法，而且这次后端的网关还是用java写的，这让我又整了套java环境，两套环境在同一台电脑上跑，真是太费劲了。最终，还是搭起来了这个网站，也能够实现一些基本的简单功能了，可是后来由于本部门的java团队忙于应付宝库的需求，最终不能提供给我及时的响应，所以也就暂时搁浅了。&lt;/p&gt;

&lt;p&gt;　　随着公司大战略的转移，慢慢的我们通讯部门就慢慢的变的越来越不重要了。再加上一年来项目给外面项目对接的缓慢并且总是不能正常使用让决策层变得越发的艰难了。最终，公司要求我们部门从产品线转化为支持性部门，将功能给上海总公司提供支持。也就是说领导们不期望这个项目可以去赚钱了，但是又不干做了那么久了，那么就公司内部的产品谁需要通信功能，那么我们部门就跟他们进行对接。可想而知，这样做的时间越长项目的立锥之地就越少。由于我是部门的一个开发工程师，抱着不在其位不谋其政的态度静观其变。后来，大概是16年的11月份，部门争取到了宝库的客服需求。我们就做起客服系统来了。&lt;/p&gt;

&lt;p&gt;　　起先，我们人员安排上比较薄弱。几个java负责服务端，想要将原来cometd转变成websocket。另外，我们部门的C老大也一直在帮助java们整理开发服务功能，所以必定会偏向java。而作为客服是需要一套前端框架的，这个框架是需要js的，而我从事于php，对js当然要比他们多，索性就安排我来开发js了。&lt;/p&gt;

&lt;p&gt;　　起初，在选择方案上我就非常头疼。js的页面级应用对我来说并不是很难，我一个人完全应付的来。但是，对已一套客服系统来说，我开始是不知所措的。于是，我就一边去研究websocket功能的同时一边去github上找客服功能的源代码。在github上更多的是聊天室功能，我费了半天劲将github上的一个个开源程序clone到本机并运行起来却发现功能要不是很简单，要不就是从需求上就不能满足。这两我很头疼，但是最终我还是找到了一个带着聊天框且支持多聊天窗口的&lt;a href=&quot;https://github.com/xunull/socketio-chat&quot;&gt;开源程序&lt;/a&gt;。搭建起来是这个样子的：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/25/58885a9ec28b4.png&quot; alt=&quot;chatPi&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　通过阅读作者的代码发现这个程序是通过redis来进行聊天内容的同步的。也就是redis为每一个接入的用户增加一个id为键的堆栈，内容就是用户的聊天内容，说话的对象以及时间。页面渲染的数据是通过nodejs服务端的逻辑发送到websocket上，再由页面的js渲染出来。这样其实已经满足了我的基本功能了，只是实现方式不太一样。我需要做的就是将redis的功能去除，而发送消息的地方改成向nodejs中的socket.io发送即可。至于后续逻辑就在nodejs服务端中去补充即可。但是，后来java也直接找到了一个开源的websocket框架并且搭起来了，与其让我一个人写前端+后端还不如我把后端撇给java做，毕竟java是两个人负责。于是，我这里只需要做前端的html+js即可。虽然我只负责了html+js，但是我还是留着nodejs服务端的功能，运行这个项目还是需要启动nodejs服务的，原因当然是为了今后的数据我自己也可以处理，这样更加安全且方便。&lt;/p&gt;

&lt;p&gt;　　慢慢地，产品设计的需求也一步一步的满足。比如，上传图片、获取历史消息等。然而，页面还停留在这种乱乱的界面呢。为了达到更进一步，我利用bootstrap重新做了一套页面，套上以后确实感觉很nice。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/25/58885a9e24473.png&quot; alt=&quot;chatafte&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　好了，基础的页面也有了，剩下的就是完成各种需求了。websocket有几种基础行为：onopen，onclose，onmessage，onerror。当websocket连接成功的时候会进入onopen，断开进入onclose，有消息发送过来进入onmessage。具体收到消息是什么消息以及之后的逻辑是什么都需要在onmessage中完成。我和java约定数据格式大概是这样子的:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;{
    &quot;type&quot;: &quot;action&quot;, //可触发事件的，param中参数原样返回
    &quot;content&quot;: &quot;是什么材质的？&quot;,
    &quot;params&quot;: {
        &quot;to&quot;: &quot;robot&quot;
        &quot;id&quot;: 1,
        &quot;groupId&quot;: 1,
        &quot;prio&quot;: 1, // 排序 priority
        &quot;level&quot;: 1,
        &quot;createTime&quot;: 1480931117000
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;　　我们可以通过type来区分服务端发过来的是何种消息，也就可以实现比如聊天消息，通知消息，心跳消息等的区分了。至于onmessage中是怎么写完全可以凭自己公司的需求去写了。&lt;/p&gt;

&lt;script async=&quot;&quot; src=&quot;//jsfiddle.net/naffan/1jtdf5hk/embed/&quot;&gt;&lt;/script&gt;

&lt;p&gt;　　onmessage中我是通过obj（是java传给我的数据）中的type值（需要json解析出数据）来区分消息的类型，比如用户进入（entercs）、用户推出（leavecs）、消息（message，其中具体是图片消息还是文字消息之类的可以通过content中的type字段来区分）、剔除用户（kill_user，这个就是我们产品要求的逻辑了，也是个性化的消息类型了）等等。可以看到我在接收到message的时候调用了directive.receive(data)方法，这个方法最终的执行逻辑是这样的：&lt;/p&gt;

&lt;script async=&quot;&quot; src=&quot;//jsfiddle.net/naffan/w1sdx95m/embed/&quot;&gt;&lt;/script&gt;

&lt;p&gt;　　首先，响提示音。然后需要判断当前发送过来消息的人是不是我打开当前窗口的人，如果不是就需要将用户列表增加一条未读消息的提示数字，之后不论是否都将信息添加到发送人的窗口中。那什么叫做发送人的窗口呢？我们可以这样理解，每个发送人都要有个存储聊天内容的页面，因为你现在聊天中的用户时可以直接看到他的消息。然而，那些已经接入了但是又不是你当前聊天的对象的信息也需要记录下来的，当我们切换聊天窗口时我们是需要看到他之前留下的信息的。这个功能起初git上的开源程序没有考虑到，所以我需要增加这块功能。大体思想是这样的，我用html写一个div的聊天窗口框架出来，每当一个用户接入的时候，我都将这个div里面的内容clone给一个变量，然后再声明一个MAP（其实就是在内存中开辟一个空间用来做hash存储），用这个用户的id为键，clone的变量作为值保存在其中。这样我就能够随时通过map键的方法将用户聊天窗口存起来了，当用户有信息过来的时候我将这个变量取出来，再往html中的最底部的dom标签前增加信息内容，最后再存入map中。这样我们就可以实现页面级的切换窗口查看消息内容的需求。哦对，忘了说了，那怎么记录当前聊天的用户id呢？当然，是声明个全局的js变量喽，每次切换聊天的用户id时，就将这个id替换到这个变量中。除了这个当前聊天用户的id的变量以外，还需要两个全局变量：一个是用来存储我们登录的客服id的变量，一个是用来存储已经接入用户的id的变量，这个变量可以作为记录未读数，当你切换到这个用户聊天时将未读数清零。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/26/5889fac0d3001.png&quot; alt=&quot;QQ20170126-130958@2x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　当用户接入进来的时候，页面上就应该有响应的动作，那就是用户列表中就会增加这个新接入用户的提示，就如同上图中的用户2，用户3所示。在js上我们可以采取用jquery来写的方法，比如在发现有用户接入时我们append到用户1的html下方。但是，这样比较麻烦，因为我们需要去专门写这个方法。就因为我觉得麻烦所以我想找一个能不能有个能够相对动态的方法呢？最终我找到angularJs。angularJS是一个能够进行双向绑定的js框架，只要你在js中声明了哪个html需要进行监听，angularJS就会自动的帮你完成双向绑定功能，也即是说他会自动的添加新用户接入的提示。下面这段代码就是将用户列表这一块的html作为angularJs的侦听对象，之后再绑定一个click的方法，用来更新js中变量记录的数值以及将用户对应的聊天框显示出来。&lt;/p&gt;

&lt;script async=&quot;&quot; src=&quot;//jsfiddle.net/naffan/w5bexygj/embed/&quot;&gt;&lt;/script&gt;

&lt;p&gt;　　在上面的代码中还有一些更新localstorage的代码，这块代码的用途我也需要说明一下啊。由于业务产品的需求，当用户退出时不会自动在客服系统中退出，只有客服人员能够关闭客户的接入（现在的客服产品，商家都是要求客服不能主动停止会话的，但是我们的产品说是因为我们的需求方的特殊需求，所以只能这样了）。那么问题来了，js是页面的语言，一旦刷新以前存在页面js中的信息皆会不复存在，那么我们如何存储曾经接入又没有被客服关闭的会话呢？因为html5出现以后，现在的浏览器也都支持了本地存储功能，也就是localstorage。localstorage是根据域名来保存的键值对，value只支持字符串。这正好可以帮我们实现数据的存储，于是我将用户的信息都通过key来存储到了这里。只是，在保存和查询的动作上需要进行json字符串的字符化和对象化。&lt;/p&gt;

&lt;p&gt;　　很多功能我们不光需要自己写，更多的可以去git上去搜索已经很有价值的插件。比如上传文件的组件，查看图片的缩略图的功能。我就是用的&lt;a href=&quot;https://github.com/jfeldstein/jQuery.AjaxFileUpload.js&quot;&gt;https://github.com/jfeldstein/jQuery.AjaxFileUpload.js&lt;/a&gt;用来做文件上传，&lt;a href=&quot;https://github.com/fengyuanchen/viewer&quot;&gt;viewer&lt;/a&gt;用来做图片的缩略图。后来，我们又添加了获取历史记录的功能，我们想要实现qq这样的当滚动条到达最顶部的时候会拉出历史记录并且滚动条还原到按照增加的记录长度的比例的位置。我也在git上找了一些这样的下拉触发事件的插件，但是没有满意的，于是我就自己写了这段代码。&lt;/p&gt;

&lt;script async=&quot;&quot; src=&quot;//jsfiddle.net/naffan/5xceoywu/embed/&quot;&gt;&lt;/script&gt;

&lt;p&gt;　　当然，我们的系统设计的还不是很好。随着代码越写越多，我越发的觉得当时设计的架构非常差，我要是想改一地方，有很多地方都会牵扯到，所以就不是改一个地方这么简单了。我现在需要的是提高自己的js能力，去学习js的框架知识，应该马上对这个系统进行代码重构。&lt;/p&gt;

&lt;p&gt;　　另外，我刚开始说过，我采用的是nodejs，但是服务端我并没有用。这就造成了一个问题，当我需要调用java接口的时候，由于java接口的域名和客服系统的域名不一样，这样就遇到了跨域问题。跨域是现在的浏览器都会禁止的操作，所以我需要java在出接口的时候，返回给我的json串外还需要帮我增加一个嵌套，如jsoncallback[‘java返回的json’]。这个设计是不好的，虽然能够暂时符合目前的需求，但是终归还是需要经过nodejs的服务层一趟的，因为安全，以为敏捷。&lt;/p&gt;

&lt;p&gt;　　最后，我还要说一下。我这个项目用到了2个方便开发和管理的工具。一个是pm2，一个是webpack。具体两个是干吗用的，我大概说一下。pm2是一个可视化的nodejs进程管理工具，他可以帮助你实时的更新应用服务，这就给你省去了每次更改nodejs代码时总需要频繁的重启node服务（–watch）。由于我们的项目是运行在线上的，所以环境也有几套。当我更改代码的时候我关心的是代码如何书写，并不关心环境。所以，我还需要动态的去区分代码所处的服务器环境，哪个是测试环境，哪个是生产环境。那么，我通过官网的手册，找到了pm2是可以通过参数来区分服务器环境的。我们只需要声明一个配置文件ecosystem.config.js。在这里面定义参数所对应的环境，那么在我们启动pm2的时候我们只需要将代表当前环境的参数输入即可，这些小工具能够帮助自己更加方便的进行开发以及维护。webpack是一个js代码整合器，它主要的功能就是通过js的互相引用，他可以只能的侦测到所用到的js并且可以将所有的js整合到一个文件中，便于开发者管理。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="tech" /><category term="js,nodejs,websocket,angular,webpack,客服" /><summary type="html">本文所述的游云客服系统，网址为cs.17youyun.com</summary></entry><entry><title type="html">仙本那潜水之诗巴丹最终站</title><link href="http://localhost:4000/life/2017/01/07/1.html" rel="alternate" type="text/html" title="仙本那潜水之诗巴丹最终站" /><published>2017-01-07T00:00:00+08:00</published><updated>2017-01-07T00:00:00+08:00</updated><id>http://localhost:4000/life/2017/01/07/1</id><content type="html" xml:base="http://localhost:4000/life/2017/01/07/1.html">&lt;blockquote&gt;
  &lt;p&gt;诗巴丹坐落于东马来西亚西南，5米的浅滩之后就是垂直落下600至700米深的湛蓝深海，被誉为世界上“海滨潜水”之最&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　经历了那么多次的潜水，我终于拿到了ow和aow的证书，这也就说明我是一位合格的世界级潜水员啦，虽然我觉得这在我以后的说活中并没有啥卵用，但是我还是为了这个证书高兴了一段时间呢。现在，我们终于要进入一个更高级的地方去潜水啦，那就是诗巴丹。&lt;/p&gt;

&lt;p&gt;　　在来仙本那之前，我们就有了解到仙本那这块有一个岛屿是潜水员们的圣地，世界各地的潜水员都慕名而来，因为这个地方水下环境相当漂亮。这一天，我们怀着激动地心情从梦中醒来，我们知道就在今天我们会迎来世界之最的挑战以及世界级的水下美景。我们7：50在潜店集合，8：00准时上船。大约经过了1个小时的船程，登上了这座神秘而神奇的岛屿。（我上岛的时候因为太过于激动，忘记照像了，所以我直接找了张图片哈哈）其实诗巴丹这个岛屿很小很小，大小如同一个大楼（理想国际大厦）横截面面积那么大，岛上我们没有上去转，因为太小了，只是吃中午饭的时候在岛上的餐厅吃了一顿。诗巴丹是对每天游客数量有限制的，一天也就那么多游客能够来到诗巴丹，这也是为了保护这片海洋原始环境的一个不错的做法，现在很多国家的名胜古迹都已经采取这样的做法了，倒不稀奇。中国也是，北京的司马台长城就在古水北镇里面也是有游客限制的。不过这样的限制有他的好也有他的不好，好就是你去玩的时候环境非常幽静不会那么多人。而不好就是都得提前预定，有可能耽搁行程。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://c2-q.mafengwo.net/s5/M00/B3/95/wKgB3FEuMkWAbE7DAAbhHHnhZto89.jpeg?imageMogr2%2Fthumbnail%2F%21690x450r%2Fgravity%2FCenter%2Fcrop%2F%21690x450%2Fquality%2F90%7Cwatermark%2F1%2Fimage%2FaHR0cDovL24xLXEubWFmZW5nd28ubmV0L3M4L00wMC82Mi83OS93S2dCcFZodUN6Q0FJa3RIQUFBTkc4TDlCUU0xNjAucG5n%2Fgravity%2FNorthWest%2Fdx%2F20%2Fdy%2F21&quot; alt=&quot;诗巴丹&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　我们去诗巴丹的前一天下了雨，所以水下很模糊，很多东西不像宣传图片上那那样透明。不过，我们来到这一天也都看到了隆头鹦哥、狼群风暴、杰克风暴，应该算是没有遗憾啦。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://c4-q.mafengwo.net/s5/M00/98/33/wKgB21B2d7Dj7RJ3AAzzrveLzjU08.jpeg?imageMogr2%2Fthumbnail%2F%21300x450r%2Fgravity%2FCenter%2Fcrop%2F%21300x450%2Fquality%2F90%7Cwatermark%2F1%2Fimage%2FaHR0cDovL24xLXEubWFmZW5nd28ubmV0L3M4L00wMC82Mi83OS93S2dCcFZodUN6Q0FJa3RIQUFBTkc4TDlCUU0xNjAucG5n%2Fgravity%2FNorthWest%2Fdx%2F20%2Fdy%2F21&quot; alt=&quot;狼群风暴&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://n3-q.mafengwo.net/s5/M00/18/00/wKgB3FCfQ1aAWrw3AALBUnIlexQ39.jpeg?imageMogr2%2Fthumbnail%2F%21690x450r%2Fgravity%2FCenter%2Fcrop%2F%21690x450%2Fquality%2F90%7Cwatermark%2F1%2Fimage%2FaHR0cDovL24xLXEubWFmZW5nd28ubmV0L3M4L00wMC82Mi83OS93S2dCcFZodUN6Q0FJa3RIQUFBTkc4TDlCUU0xNjAucG5n%2Fgravity%2FNorthWest%2Fdx%2F20%2Fdy%2F21&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://n3-q.mafengwo.net/s7/M00/9A/91/wKgB6lRPBy-AfI4VAAZRhzGasX087.jpeg?imageMogr2%2Fthumbnail%2F%21300x450r%2Fgravity%2FCenter%2Fcrop%2F%21300x450%2Fquality%2F90%7Cwatermark%2F1%2Fimage%2FaHR0cDovL24xLXEubWFmZW5nd28ubmV0L3M4L00wMC82Mi83OS93S2dCcFZodUN6Q0FJa3RIQUFBTkc4TDlCUU0xNjAucG5n%2Fgravity%2FNorthWest%2Fdx%2F20%2Fdy%2F21&quot; alt=&quot;隆头鹦哥&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://c3-q.mafengwo.net/s8/M00/4D/83/wKgBpVVlykWAX_S6AAiuUOmrZpw40.jpeg?imageMogr2%2Fthumbnail%2F%21690x450r%2Fgravity%2FCenter%2Fcrop%2F%21690x450%2Fquality%2F90%7Cwatermark%2F1%2Fimage%2FaHR0cDovL24xLXEubWFmZW5nd28ubmV0L3M4L00wMC82Mi83OS93S2dCcFZodUN6Q0FJa3RIQUFBTkc4TDlCUU0xNjAucG5n%2Fgravity%2FNorthWest%2Fdx%2F20%2Fdy%2F21&quot; alt=&quot;杰克风暴&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　除了看到了这些鱼群，我们还体验到了在水下悬崖峭壁旁潜浮的感受。那种感受真的很刺激，由于我们潜的比较深，大概在30米左右吧，周围已经黑黑的一片了。我们还进了一个山洞，这个山洞中还有一个图腾类似的东西，真不知道这个洞是否是很久之前的人留下的，但是这个地方时悬崖啊？如果是原始人留下的话，他们是怎么在那么高的悬崖上开凿除山洞来的呢？真是令人不可思议。&lt;/p&gt;

&lt;p&gt;　　一天的诗巴丹之旅已经完成，也就意味着我们的仙本那潜水之行已经完毕。接下来还有一天的时间我们可以选择跳岛游了。因为学完潜水后的一天是不能坐飞机的，需要留下一些时间进行排氮，要不人容易患减压病的。&lt;/p&gt;

&lt;p&gt;　　第二天，我们选择了跳岛游，早上去看了下那巴夭族，这个族非常穷，房子都是自己搭建在海面上的，他们没有电没有淡水，只能靠自己的劳动力去大海里打鱼，去集市上卖或者自己吃。听说，他们是没有国籍的，马来西亚不管他们也不给他们福利，任他们自由生活。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/25/588837bf11a2d.jpg&quot; alt=&quot;IMG_0249&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/25/588837bf67e9d.jpg&quot; alt=&quot;IMG_0312&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　当我们开着船来到这个族的居住区的时候，他们携家带口的划着自家的船过来要吃的。导游跟我们说，他们很穷愿意给他们点东西的可以给，如果不想给直接摆手就行了，他们也不会赖着不走。事实上真的如此，他们虽然穷但是很守规矩，跟中国内地的乞丐要饭们不一样，他们不会拉着你抱着你大腿。我给了他们一瓶水，结果换来的不是谢谢而是更多人来要。。。我确实被吓到了，给点就成了这是觉得你们需要，竟然蹬鼻子上脸这群人。&lt;/p&gt;

&lt;p&gt;　　下午，我们去了珍珠岛登上了这里的600米的山，眺望了一下很多来旅游必照的景色。我也忍不住拍下了这张照片，作为来到这里的纪念哈哈。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/25/588837c02ce4c.jpg&quot; alt=&quot;IMG_0374&quot; /&gt;&lt;/p&gt;</content><author><name>张一帆</name></author><category term="life" /><category term="旅行,马来西亚,自由行,潜水" /><summary type="html">诗巴丹坐落于东马来西亚西南，5米的浅滩之后就是垂直落下600至700米深的湛蓝深海，被誉为世界上“海滨潜水”之最</summary></entry><entry><title type="html">仙本那潜水之ow和aow学习</title><link href="http://localhost:4000/life/2017/01/06/1.html" rel="alternate" type="text/html" title="仙本那潜水之ow和aow学习" /><published>2017-01-06T00:00:00+08:00</published><updated>2017-01-06T00:00:00+08:00</updated><id>http://localhost:4000/life/2017/01/06/1</id><content type="html" xml:base="http://localhost:4000/life/2017/01/06/1.html">&lt;blockquote&gt;
  &lt;p&gt;每天都是一次新的旅行，每一个和我们走过一段的人都值得感激。“生命，不长不短，刚好够用来好好看看这个世界。”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　通过一天的理论课的培训，让我对今日的实际潜水有了那么一丝丝的期待。记得2015年去菲律宾长滩岛旅行的时候我曾经潜过一次，不过那时是自由潜，有教练随时拎着我在海底来回逛，记得那个时候教练教过我们一些基础的手势用语，到现在还仍然能够记得。所以说，这次真正学习潜水课程的时候我要比其他人学的更快一点。说起来也很滑稽，之前潜的那次上来以后缺氧的难受，难受的头疼的很，都不知道把头放哪才能让自己好受一点，就那次心想再也不潜水了，可是没想到1年以后的我，竟然来到了马来西亚的仙本那正在学习专业的潜水知识并且已经要进入12潜的课程之中。&lt;/p&gt;

&lt;p&gt;　　早上7：20我们从睡梦中醒来，之前跟教练约的是7：50到潜店集合，我们简单的洗漱之后在潜店门前找到了教练。我不得不插一句，我有个毛病，就是每次出远门连着几天的早晨都不能正常的大号，生物钟总是变的特别乱而且大号的感觉总是在我措不及防的情况下发生，最后总闹的我为了大号临时耽误行程时间，这次也不例外。。。不过还好，前几天虽然总是担心大号的感觉会在船上来的特别凶猛。但是，肚子还算争气没有在特别尴尬的场景来场特别尴尬的要求。我们到的第一个岛是军舰岛，军舰岛是多数潜店选择的初级教授课程首选的岛屿，这个岛是细长的从上空鸟瞰像一艘军舰，所以人们给这个岛取名军舰岛。我们刚到这个岛的时候心情很是愉悦，教练首先带着我们上岛签字，然后经过一片小灌木丛来到了我们要进行第一次潜水的地点。这个地点也是很多人选择拍照的地点，因为这个岛的前端是一片白色的沙滩，是极好的照相地点。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43b2892c.jpg&quot; alt=&quot;IMG_0066&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43b1416d.jpg&quot; alt=&quot;IMG_0237&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　我们上了船，大家都开始慌忙的整理起了自己的潜水设备。潜水设备是由6个组件组成：氧气瓶，潜水服，BCD（也就是充气背心，在水里上升下降都得靠他），氧气管（俗称二级头），配重带，脚蹼。这些东西都得自己组装，每次更换这些玩意的时候都是累累的，基本上体力活都在这块。好了，怎么穿这些东西我就不多说了，现在我们要开始潜水了。我们的教练叫sunny，是个瘦高的女孩子，但是看起来骨架子大。首先，我们从浅滩开始学起。学习顺序大概是如何使用装备，基本的手势，如何保命，安全知识，水下如何前进等等。就这样在大太阳下面我们学了将近1小时。因为教练得一个人一个人检查学会没学会所以耗费的时间比较长。然后就是我们需要潜个4米左右去学习水底下的一些水中换面镜的知识等等。我记得当时我不知道如何潜下去在水中来回扑腾导致小腿抽筋，幸好之前学了一些在穿戴着脚蹼的情况下如何给自己按摩的技巧，所以有惊无险的能够继续课程了。我沿着一根锚绳拽着慢慢将自己沉到了水底下，可是却总是稳不住自己总往上浮，后教练帮我才让我稳住跪在了地上。之后就是各种教我们动作，具体教了什么我忘记了。反正，最后学完了上来的时候，到船上就是一顿晕眩以及头疼的要命。我那感觉就好似脑仁一阵子一阵子的胀痛，表情很是狰狞。再加上船体在海浪的起伏只中忽慢忽快，真是有种小伙慢慢扑腾着自己那种说是剧烈疼痛也不是，说是不疼也不是的感受。而且，在这期间还得做哪些换氧气瓶装装备的体力活。我们休息了一会大概有个20分钟左右吧就又下水了，又一轮的循环，上来的时候头又疼的厉害。教练说我的反应很大，不确定是什么原因，后来我自己感觉出这应该是缺氧造成的。原因是我在水底下的呼吸频率过快而且很深，这样就会造成缺氧。如果在陆地上一直深呼吸达半个小时之久也会造成缺氧现象，所以教练一直在说水下呼吸要和在地面上一样。经过一次这么折腾我打算尝试一下，不过经过这么改变的策略以后，确实再上来的时候现象明显减轻，而且在水底下看的东西也比之前好很多，因为注意力不在于呼吸上了而是转移到了水下生物上。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43bc38e7.jpg&quot; alt=&quot;IMG_7930&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43c77f92.jpg&quot; alt=&quot;IMG_7944&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43bb14bb.jpg&quot; alt=&quot;IMG_7960&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　军舰岛周边的水下环境平而稳，珊瑚散落在白色的沙滩上面，就那么自行盛开着。我们跟随者教练到处游走，感受着这对我们来说未知的领域。水下的世界当你聚精会神的去观察的时候，一切都会开始转变，变的更加绚丽多彩，更加栩栩如生。小鱼们自由自在的在水下有用，三五成群的甚是可爱。有些鱼类长的奇形怪状，有些则不是。我深知还发现了一只孤独的鱼从我们入水开始到出水时都一直跟随着我们，它一直保持着安全距离，我过去一点，它就退后一点。我转身离开，它则不离不弃。有可能是我们对他来说很是好奇，而我们却对它没有一点点伤害，让水下的旅行更是美好。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43e88a73.jpg&quot; alt=&quot;GOPR2690&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　上图，是一只有13寸电脑那么大小，长的像一张日本传统戏剧里面男性的样子，有些可怕。它总是在我的身后游啊游啊游。在海底越深就越黑暗，周围的可视度就越短，大约5米的距离吧。再往外就是深蓝色了，之后就是黑色了。如果你一个人的话想想就可怕。&lt;/p&gt;

&lt;p&gt;　　我们队第二天就出现了险情，因为我们队里有个女孩子在教练旁边游，而教练突然发现其他学员的面镜无特别大，所以就转过头去帮助她排除面镜里的雾。然而，这就导致教练没有顾及到旁边的女孩子，而女孩子也没发现，径直的向前游去了。我在队尾看的特别的真切，然而当时我的技术还不好，根本游不到那个女孩子旁边，只能眼睁睁的看着那个女孩消失在深蓝的海底。等教练发现我们少了一个人的时候，用手势问那个女孩子去哪里，我们只能回给她一个前面的手势。这个时候，教练的无助我能够真切的体会到，看着教练着急的动作我也做不出任何事情。教练曾教我们当我们找不到伙伴的时候就在原地寻找1分钟，如果找不到就要升到水面上去寻找。我们迅速升到了水面上，并在接下来的1分钟之内，看到500米开外那个女孩子也升上来了，我们大叫做手势。但是，那个女孩子估计正在惊吓中然而并没有看到我们。所以，她又下潜了想去寻找我们。当我们看到她再次下潜的时候都慌了，这个情况什么事情都有可能发生，我们并不希望悲剧。所以，我们立刻做了决定。由教练带着一个人去寻找，剩下来的2个人游到船上去寻求帮助。这个时候，我不愿再潜下去了，因为在这种地域万一再发生什么情况这就太危险了。所以，我和另一个潜伴游向了船去寻求帮助了。船上的人听到了我们的呼救马上就做出了反映，船长首先叫我们让开，等看到我们离出了与船的螺旋桨安全距离外船长就把船开到了我们所指的方向。接下来的情景我不在船上面了，所以并不知情。幸好，女孩子顺利的找到了。也许她听到了船开过的声音，话说在海底下听船的声音挺恐怖的，那种声音有种朦胧的感觉，那声音用周遭地震的声音来形容一点都不过分。试想如果在海底下要上升的过程中听到了船的声音，你根本就分不清楚声音是从哪个方向传过来的。之后，等我们上船的时候，我看到我们的教练和那个走散的女孩子眼泪就在她们眼睛中打转。这种感觉真的很不好，索性没有发生什么可怕的事情。&lt;/p&gt;

&lt;p&gt;　　接下来的几天，我们都是这么度过的。由于自己慢慢的也适应了潜水，所以入水以后世界变的其妙起来，周遭的世界也有时间去细细体会了。ow就这么顺利的通过了，接下来的aow也就是在不同的岛屿之间来回下潜，也体会了洋流的速度，也在水底下喝了可乐，看了打碎的鸡蛋是什么形状。后来，慢慢发现海底下的世界越来越单调了，除了奇形怪状的珊瑚以外就是自己分不清楚的鱼类，这些鱼类大体都是小型鱼，颜色倒是很鲜艳要比只有深红，蓝，绿的珊瑚好看得多。但是，时间长了人就会审美疲劳，从而对海底下的感觉就一般般了。这段练习的过程我也没啥可以写的了。我们最终期待的只剩下了这段旅程最后的地点-诗巴丹。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="life" /><category term="旅行,马来西亚,自由行,潜水" /><summary type="html">每天都是一次新的旅行，每一个和我们走过一段的人都值得感激。“生命，不长不短，刚好够用来好好看看这个世界。”</summary></entry><entry><title type="html">仙本那潜水之上课无聊篇</title><link href="http://localhost:4000/life/2017/01/04/1.html" rel="alternate" type="text/html" title="仙本那潜水之上课无聊篇" /><published>2017-01-04T00:00:00+08:00</published><updated>2017-01-04T00:00:00+08:00</updated><id>http://localhost:4000/life/2017/01/04/1</id><content type="html" xml:base="http://localhost:4000/life/2017/01/04/1.html">&lt;blockquote&gt;
  &lt;p&gt;旅行虽破费钱财，却使你懂得社会。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　在仙本那的第一个晚上是兴奋的同时也是疲惫的，这里的空气充满着东南亚海边潮湿的味道。我们选择的是semporna inn2旅店家庭房，这个旅馆的设施配套齐全，全天24小时热水，每天提供三瓶免费矿泉水，空调床铺家具都是新的。给我们感觉有种宾至如归的感觉，去了其他的旅馆看了看，这里的旅店大都是新建的，而且这个镇子不大，所以各种生活周边设施全挤在这几栋楼之间，让生活很是方便。但是，这里的娱乐设施很少，可以说基本没有吧。然而，来这里并不是为了娱乐而来的啊，主要是潜水，每天都要出海潜水，所以这些建设就已经能够满足正常的生活了。&lt;/p&gt;

&lt;p&gt;　　第二天起的很早，因为前一天抵达的时间非常玩，所以计划在早上多逛一逛，但是由于镇子的规模很小，你根本用不了多长时间就能够转完，这一点让我很是困惑，既然一个大家都知道的镇子，那么为什么镇子的规模还没有大到能够一眼就看出来商业化的城镇的？也许这里的商业化并不浓重吧，商人们的利益熏心还没有污染到这个镇子。&lt;/p&gt;

&lt;p&gt;　　早上的空气对于常年在北京的我简直就是奢侈，再加上不算太热的温度，让我们感觉很是舒适。在北京的时候设想一个离赤道那么近的国家，温度一定会非常高，但是当我到了这里以后并且待了7天左右以后我还是会说，这里的温度就如北京的春入夏一样，让人感觉不到一丝不适，只是太阳比较晒而已。
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa3991e51b.jpg&quot; alt=&quot;IMG_1610&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　我们报的是&lt;a href=&quot;http://www.dianping.com/shop/22966849&quot;&gt;爱潜&lt;/a&gt;的潜水课程，按照行规我们需要学习一天的理论知识，这也是我们这一天的全部。除了学习以外，就是到处逛一逛，到处吃一吃啦。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa39dc0ba7.jpg&quot; alt=&quot;IMG_1611&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　爱潜的学习课程其实就是看短片，然后做书上的习题，老师们再进行简单的讲解以后，会在课程结束以后给我们一份考试的习题，当我们完成以后再交给潜店。到我写这篇日志的时候，我已经获得了ow以及aow的资质，但是这份考题的结果我还是没有拿到呢，也就是说这份考题的意义并不在于卡学生，而是通过考试的幌子让学生死记硬背那些基本的尝试，因为这些知识都是用来在水底下保命用的。虽然，这些知识里面有些并没有太大意义（对于我现在这种程度）。但是，潜压病以及水下的安全停留是必须了解的，因为这些东西在水下一定要时刻遵守，除非你对你自己的生活不负责任。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa420d07ec.jpg&quot; alt=&quot;IMG_1616&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　上完课以后，我们随便找了家饭馆吃饭。可以说仙本那是个吃海鲜的好地方，每家饭馆都会做海鲜而且海鲜做的也都像模像样的。我记得我们点了海鲜面，海鲜饭，香蕉饼，各种饮料。&lt;/p&gt;

&lt;p&gt;　　吃完饭回来，仍然是上课。上课真的太无聊了。课程的最后，潜龙教练教我们如何看RDP表格，这样我们能够掌握重复潜水的时机以及限制了。等下课以后我们回到潜店，雄哥教授了我们如何拆卸&amp;amp;安装BCD。教练问谁愿意尝试一下，我就勇敢的举了手。真上去做了，还是忘记了之前教练教的几个步骤。但是，最终还是坎坎坷坷的安装上了。之后的每一次潜水我们都要自己实际操作的。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa45329f35.jpg&quot; alt=&quot;IMG_1617&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　回到自己的宿舍，我们就紧锣密鼓的开展了学习风暴，最终拼拼凑凑出了最后的答案。当然，过程中是欢乐的，其中充斥着各种逗比照相。哈哈&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa43b16117.jpg&quot; alt=&quot;IMG_1622&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa3b567289.jpg&quot; alt=&quot;IMG_1618&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　好了，考题我们也答完了剩下的就是吃喽。我们去了传说中的&lt;a href=&quot;http://place.qyer.com/poi/V2UJYVFiBzJTZ1I6/&quot;&gt;肥妈海鲜店&lt;/a&gt;，我们点了一些海鲜，味道确实不错，就是价格要比其他的海鲜酒店要贵。但是，最后下来总结这一条海鲜一条街后，其实肥妈左手边的那家要比肥妈更好。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa44b7a3be.jpg&quot; alt=&quot;IMG_1623&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa66fe9894.jpg&quot; alt=&quot;IMG_1626&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa69ca9e78.jpg&quot; alt=&quot;IMG_1624&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　等吃完了晚饭后，肚子很满足。等待我们的是接下来几天的潜水课程，ow需要2天6潜，aow需要2天6潜。而刚开始学ow的时候，对我来说简直就是噩梦，从水底下上来以后我缺氧的厉害，疼痛感都让我对此行的意义产生了怀疑，不过这是后话，我会在下一篇中我是如何生不如死的。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="life" /><category term="旅行,马来西亚,自由行,潜水" /><summary type="html">旅行虽破费钱财，却使你懂得社会。</summary></entry><entry><title type="html">仙本那潜水之开启旅程篇</title><link href="http://localhost:4000/life/2017/01/03/1.html" rel="alternate" type="text/html" title="仙本那潜水之开启旅程篇" /><published>2017-01-03T00:00:00+08:00</published><updated>2017-01-03T00:00:00+08:00</updated><id>http://localhost:4000/life/2017/01/03/1</id><content type="html" xml:base="http://localhost:4000/life/2017/01/03/1.html">&lt;blockquote&gt;
  &lt;p&gt;旅游的作用就是用现实来约束想象：不是去想事情会是怎样的，而是去看它们实际上是怎样的。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　正如像赛缪尔约所说的这句话一样，想象是人与生俱来的能力，我们不能抛弃他同样我们也不能没有他。但是，我们不能恣意让他野蛮式的成长。所以，我们需要约束他。那么，约束他的最好方法不是通过横加阻止的野蛮方法，而是要用更加科学的方法那就是用现实。我们需要用现实来约束他，我想很多人都是会采用这种办法吧。因为，只有每一次实现你曾经的想象你才可能不再对此有恣意妄为的想象，取而代之的就会有新的想象迸发出来。他的后半句话就是对我所解释的完美诠释。这一次，我们的旅行地更换到了位于东南亚的马来西亚岛屿-仙本那，我们来这是为了实现人生中对潜水的想象。&lt;/p&gt;

&lt;p&gt;　　16年的十月中旬，杨大爷突然给我来了个电话，问我要不要一起去仙本那去学潜水。在这之前，也就是15年我们曾经有一次子菲律宾长滩时的潜水，那一次是我人生中的第一次潜水，当然第一次永远带来的都是疼痛。从那以后我没有对潜水有一丝好感，因为他给我的疼痛远胜过其中的享受。我只记得那次看到了很多兰兰绿绿的小鱼，而且也亲自喂了喂他们，我喂他们的时候他们就好像特么不听话的野兽各种从我手中夺取食物，这让我很是恼火。不过，转念一想。对于脑袋仅有那么一丁点大的动物来说，智商是他们的奢侈品，所以也就不以为然了。当我回家后，给别人看我们潜水时的视频的时候，我确实能够看到观众们的眼睛中是闪烁着光芒的。可是，当时有几个问题，最大的问题就是摄影拍摄的技巧几乎为零，让观众不是享受画面的乐趣，反而被无限的颠簸让自己看的很不舒服。另外一个问题就是，摄影的主题不明显，多数都是想拍哪拍哪没有固定的剧情主线或者说是中心主题。其次就是潜水者们基本都是被教练拖着走，在视频里感觉就是一群木偶在水底下胡乱穿行。这些视频也就是个对自己曾经去过什么地方做的留念，并不能体现出更有意义的价值。也就是因为这些原因，我才动了来的想法的。当时，做的决定根本没有经过我的深思熟虑，一直到到了仙本那的岛上还没有半点思想准备，直到真的下潜的第一天这种痛苦又回到了我的感知中。也就是我现在写下这篇文章的时候，我现在虽然翘着二郎腿躺在床上舒服的写着这篇游记，但是实际脑子中还是时不时的会涌出吐意。&lt;/p&gt;

&lt;p&gt;　　2017年1月1日，这是中国的传统节日元旦。大家应该在这个时刻和家庭成员聚在一起，可是我在凌晨6点已经坐上了起飞的飞机踏上了仙本那潜水之行。&lt;/p&gt;

&lt;p&gt;　　这天，我从梦想中被闹钟催起，父母偏要一块上机场送我。这天北京市天气黄色预警，我们在开车的过程中有一端路视距只有10米，而空气中肉眼可见的大块漂浮物一层一层地扑向我们的车窗。在这种恶略的天气中事故是不可避免的，路过一个事故是四车连撞，幸好不是我们。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586ba9d21e17d.jpg&quot; alt=&quot;北京雾霾下的高速公路事故&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　到达机场以后，我们一行人很顺利的过了安检。在之前天气预报还说元旦那天雾霾黄色预警，这让我们的行程笼罩在一层不安的气氛中，但是一切进展的很是顺利。飞机还是在很大雾霾的时候顺利起飞，并且顺利的到达了新加坡机场。我们是在中午12点的时候到达的，在这里我们也很顺利的兑换了马币以及顺利的搭乘上了去斗湖的飞机，在这段时间里我们还有时间吃了顿饭。我们还办了张电话卡，50马币可以有4G的流量并且无限流量微信以及微博。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586ba8d591b94.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586baf69560d9.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　下午三点半，飞往斗湖的飞机上我拍下了亚行的飞机路线图。这里面包括了我们的起点，转机点还有终点。我们是从北京飞往了kuala lumpur，之后再到tawau。到了斗湖机场已经是傍晚7点了。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb493f4164.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb07f30a40.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　走出斗湖机场以后，有之前联系好的接我们的小面的。不得不说淘宝的服务还是很好的，一切行程淘宝卖家都会为买家考虑完整并且价钱也算中规中矩。下图就是我们约到的车，这辆车承载了10名中国乘客，一并带我们到了仙本那镇并一一将我们带到了我们要住的酒店。司机也很礼貌，在任何情况下只要是和我们在沟通上有不明白的时候都会首先道歉。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb3f78efcc.jpg&quot; alt=&quot;IMG_1596&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　我们顺利的完成了check-in。这个时候已经是傍晚10点了。我们的肚子都是空的，所以随便找了一家餐馆打算充下饥。不得不说仙本那镇子上的每一家餐馆都不欺客，这家以及后来几天的餐馆做的饭都很地道，而且量很多，价钱也不贵。店主们也都很善良可爱可亲。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb0cc9e4d2.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb0e426325.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb0ed94027.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb0cf944f6.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb0f0b7453.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb105053b0.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　至此，我们在仙本那的第一天算是告一段落了。这一天过的很是平淡并且劳累，但是每一次旅行开端都会是辛苦的。毕竟不像在家门口开个车就能够到达，然而我们得跨过十万八千里。话虽这么说，后来的日子就相当难过了，大太阳底下穿着紧身衣，在盐劲十足的大海里潜下几十米，小脑不断适应不同的重力情况且不停地调整作息时间让这次旅行，其实也不能说是旅行，我们就是为了考潜水来的，应该叫学下吧，变得越发困难了。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="life" /><category term="旅行,马来西亚,自由行,潜水" /><summary type="html">旅游的作用就是用现实来约束想象：不是去想事情会是怎样的，而是去看它们实际上是怎样的。</summary></entry><entry><title type="html">思考一下nodejs的exports和module.exports</title><link href="http://localhost:4000/tech/2016/12/12/1.html" rel="alternate" type="text/html" title="思考一下nodejs的exports和module.exports" /><published>2016-12-12T00:00:00+08:00</published><updated>2016-12-12T00:00:00+08:00</updated><id>http://localhost:4000/tech/2016/12/12/1</id><content type="html" xml:base="http://localhost:4000/tech/2016/12/12/1.html">&lt;p&gt;之前看nodejs的书籍的时候，书上来就会讲nodejs的结构同时也会带出exports和module.exports这两个词语。起初，知识想快速学习nodejs开发技巧并且能够达到上手的效果。但是，在写代码和研究代码的时候我发现有的js文件后面使用exports，而有的却用的是module.exports。经过，代码的测试发现这两个词语效果是一样的。那么我就会想既然他们俩的效果是一样的话，那为什么还要出两种方案呢？&lt;/p&gt;

&lt;p&gt;后来，查阅了一下&lt;a href=&quot;https://nodejs.org/api/modules.html#modules_module_exports&quot;&gt;nodejs的官方参考手册&lt;/a&gt;，其中里面就有讲到:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The exports variable is available within a module’s file-level scope, and is assigned the value of module.exports before the module is evaluated. It allows a shortcut, so that module.exports.f = … can be written more succinctly as exports.f = …. However, be aware that like any variable, if a new value is assigned to exports, it is no longer bound to module.exports:&lt;/p&gt;
  &lt;pre&gt;&lt;code&gt;module.exports.hello = true; // Exported from require of module
exports = { hello: false };  // Not exported, only available in the module
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;

&lt;p&gt;也就是说，在起初module.exports和exports是一样的，很多人都归结为exports是module.exports的引用。如果你不清楚引用是什么概念，请你看看那这篇&lt;a href=&quot;https://cnodejs.org/topic/5231a630101e574521e45ef8&quot;&gt;文章&lt;/a&gt;，这篇文章用一个例子给你举出了他们俩的区别。但是，我对这位作者的回答不算太满意。于是我又追到了这篇&lt;a href=&quot;http://www.jb51.net/article/33269.htm&quot;&gt;文章&lt;/a&gt;。但是，我又对作者给出的结论感到迷茫。作者说“如果你想你的模块是一个特定的类型就用Module.exports。如果你想的模块是一个典型的“实例化对象”就用exports。”，我就不是很懂他说的这两种情况。&lt;/p&gt;

&lt;p&gt;对于目前我的理解来说，我就是认为exports是module.exports的简写。但是这是有条件的，条件就是module.exports定义之后不能对exports操作。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="tech" /><category term="js,nodejs" /><summary type="html">之前看nodejs的书籍的时候，书上来就会讲nodejs的结构同时也会带出exports和module.exports这两个词语。起初，知识想快速学习nodejs开发技巧并且能够达到上手的效果。但是，在写代码和研究代码的时候我发现有的js文件后面使用exports，而有的却用的是module.exports。经过，代码的测试发现这两个词语效果是一样的。那么我就会想既然他们俩的效果是一样的话，那为什么还要出两种方案呢？</summary></entry><entry><title type="html">西班牙之旅（后记）</title><link href="http://localhost:4000/life/2016/12/10/2.html" rel="alternate" type="text/html" title="西班牙之旅（后记）" /><published>2016-12-10T00:00:00+08:00</published><updated>2016-12-10T00:00:00+08:00</updated><id>http://localhost:4000/life/2016/12/10/2</id><content type="html" xml:base="http://localhost:4000/life/2016/12/10/2.html">&lt;blockquote&gt;
  &lt;p&gt;生活是一段奇妙的旅行，就在那一去无返的火车上。与那些新人和旧人们共同经历吧！也许这就是一个人无法抗拒的命运，有你、有我、也有他。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　踏着黄昏那一缕懒散的余光，我们从购物村拖着懒散的身子往马德里奔发。虽说疲惫但是还是意犹未尽，我们深知这趟旅行已将近尾声，路过的城市已经被我们远远的甩在身后，而剩下的旅程中只有巴萨罗那在安详地等待着我们的到来。我记得那场足球比赛是19:30开踢，而现在已经是17点了，也就是说我们有将近2个半小时的时间。然而，一切的设想都赶不上实际的变化。由于我设定的谷歌地图导航设到了伯纳乌球场，而这场比赛是马竞的主场，我们应该去卡尔德隆球场的。其实，在做计划的时候我是知道卡尔德隆球场的，也只当这场比赛是马竞的主场。然而，由于自己的疏忽在一遍开车一遍设置导航点的时候误将目的地设到了伯纳乌。我们一路上有说有笑的计划着是先把车开回住所先把买的东西放下再说还是直接开到球场那边直接去看球，我现在设想如果当时采取了先回去放东西的方案的话是不是我们就不会浪费本应该悠闲的时间。我们将要抵达伯纳乌的时候，X妹很诧异的跟我我：“西班牙的球迷怎么那么有素质啊，都快到球场了。连球迷的呐喊声都没有，路上的状况简直好到爆。”其实，我也在想真是这样啊，咱们国安比赛的时候，三里屯还会围着水泄不通呢，怎么西班牙这种世界都著名的足球文化过度在这么盛大的日子连个屁都听不见啊？！我们到达了伯纳乌的时候连停车场都没有停满你敢信？我们锁好车往球场正门方向行进的过程中我发现了皇马队旗，这个时候我才恍然大悟我们走错了。 诶亚一声让几位姑娘顿时失了魂，我跟他们一说个顶个的服了我。我连忙解释由于车夫一天劳累犯错误难免，我们首要任务是赶紧弥补错误所以马上动身，事不宜迟。这俩球场其实相隔挺远的一个在西边一个在东边，要过去相当绕半个马德里城，那也没办法了，只能赶紧开车过去喽。就这样，我们紧赶慢赶到了卡尔德隆球场，离球场还有几公里远的时候就能够听见球场那边球迷的呐喊声，这下就对了，符合了大型比赛的气氛了。由于我们到的晚，所以路上不赌。但是，球场周围早就没了可以停车的位置。我记得我们是19：40到的球场，这个时候比赛已经开始10分钟了，我们停车耽误了半个小时。到了球场正门还需要到换票处换票，换完票进入球场的时候保安拦住我们搜身，让我们把水和摄像器材存储在存包处，我还得跑半个球场的13号口那边存gopro，再跑回来进入球场已经是半场休息了。上半场是1：0，皇马领先，由本泽马头槌攻入一球。上半场的方向正好被我们完美的错过了，下半场换边以后c罗在老远的对方半场不能让我看个仔细。然而，我旁边坐了个埃及小伙子跟他倒是聊的火热，我们互相聊了对方从哪里来之类的闲谈后，我问他有没有录到本泽马的进球，那个小伙子很爽快的用iphone的airdrop将他拍的视频传到了我的手机上，随后我发现他也有ps4也有fifa16，所以加了他的psn约他等我回国再约他一起玩。但是，等我回国以后我确实加了他，他也接受了邀请，但是我给他发信息啥的他也不回我，我能看到他在踢fifa16可是邀请了友谊赛他也不给个回复。我也无奈，既然你不理我，那我留你何用，就这样我痛快的将他从我的好友中进行了移除操作。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ooo.0o0.ooo/2016/12/10/584c41e83ac9a.jpg&quot; alt=&quot;西班牙新_38&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　这场球虽然我只看了下半场，但是也看到了个进球，马竞把比分扳平并保持到了终场。虽说，总体感觉下来不像是个AA级的比赛，但是也在远远的地方看到了C罗，贝尔，本泽马，托雷斯。可以说，没有辜负这次西班牙的看球之旅。比赛打完以后，我们在球场中滞留了一会，拍了几张照片，管当地的马竞球迷借了马竞的围巾找了几张相，但是人家嫌我们拍照速度慢迅速的从我们手中夺走了属于他们的围巾。这一举动非常不友好，让我对马竞球迷产生了小气的印象。好了，看完球我们准备回家睡觉了，我得去存包处拿回我的gopro，于是我和三位女生约定在出口汇合，当我拿回gopro后，正遇到皇马的大巴车接皇马队员离场。那阵势感觉跟打仗一样，各种的保安和防暴警察拦住了我回去的路，我也只能静悄悄的在警戒线外驻足观看。我举着gopro一直拍他们上车的过程，但是整个过程我只看到了拉莫斯，其他队员我也分不清谁是谁，但我可以肯定皇马的大牌没有上车，我想他们估计是直接坐自己的私家车离开了球场了吧，毕竟人家是大牌。有趣的是，别看两个队的球迷都是马德里人，但是阵营却是相当明显。别看马竞主场小，只规划出了看台的一个角落给皇马球迷，可是皇马球迷离场的时候可不闲着，唱着各种我听不懂的歌，并且还向我们这边的人做出挑衅的手势。所以，我也不用听懂他们在唱什么，侮辱的词汇肯定充斥着整首歌，没跑准没错。我后来顺利的找到了三位女生，这个时候皇马的大巴也开走了，剩下的群众也慢慢的退散了，那些防暴警察也开始离开，他们就从我前面走过，那阵势相当气派啊，统一步伐，统一着装，一阵小跑从我们身边驶过。我突发奇想想看看他们的力量如何，于是我有意借着人群的力量向前扑了一下，然而那个防暴警察直接用肩膀把我弹开了，让我感觉到了强大的肌肉冲撞的力量。&lt;/p&gt;

&lt;p&gt;　　我们开着车回到了住所，这个时候已经是将近凌晨了。我还需要在四点前把车还回去，于是我把他们仨放在了家中，自己一个人去还车。还车的过程中由于我忘记了还车的地点遇上了让我很棘手的问题。但是，索性最终顺利的将车还上了，只是过程非常痛苦而且令我终身难忘。如果要是写出来的话篇幅不够，所以我不打算写了。反正，事情已经过去了，虽说现在想起来还历历在目，但是我也不想说了。&lt;/p&gt;

&lt;p&gt;　　第二天，我们收拾好行装告别了马德里，我们至今再也没有回去过，然而那个地方确是一直在与我的生活产生着间接的关系。下一站是巴萨罗那，也是我们西班牙旅行的最后一个城市，想起当时大家在一起念叨最后一个城市时巴萨的时候，那种莫名的感伤就是马上又要回去工作的那种感觉。我们是坐城市间的商务小飞机去的巴萨罗那，这飞机是真的小，起初在订票的时候看到飞行规则上写着一个人只能带一个箱子上去的时候还以为规则我们不太明白呢，直到我们上了飞机才发现原来我们理解的没错，就是因为飞机太小了所以根本不够让我们多带东西上飞机的。这架飞机上的旅客多半是西装革履的上班族，所以我感觉这种飞机是提供给那些工作的地方和住着的城市不在同一个城市的人们。可悲的是在登记之前，从2010年开始陪伴我多少个飞行之旅的登机箱坏了，我只能在登机之前的最后1分钟内选择了放弃他，将他留在了那座机场中。&lt;/p&gt;

&lt;p&gt;　　飞行的时间是短暂的，下了飞机我们不知道路怎么走，各种问西班牙人给我们指路，最后是一个听到我们帮助后主动向我们伸出援助之手的又高又瘦，一身西装革履的年轻帅小伙领着我们到达了出口。赞一个。由于巴萨是最后一个城市并且我们要在这度过两个晚上，所以我们在国内就选择了这次的住处要比以往的奢华一点，故在airbnb上找了民宿。事实证明，民宿还是相当不错的，在民宿中能够更加轻松也让我们能够得到更加舒适的休息体验。这个民宿是在闹市区边上，由于位置是在巷子中间，所以我们也废了点劲找它。这家民宿是四层，没有电梯，台阶非常窄且陡峭，三个女孩没人一个大箱子并且盛满了购物时血拼后的战利品，所以异常沉重。我是这个群众的唯一男性成员，所以肩负起了给他们一点一点人肉提到四层的搬运工工作。那个时候想，下次再有这样的机会的话，再也不这样配置了，一个男生太费力气了。&lt;/p&gt;

&lt;p&gt;　　放下行李后，我们首先来到了米拉之家。首先要说一下，巴萨这座古城中曾经出过一个著名的设计师，他就是高迪。在这座城市中很多的地方都是高迪生前的著作。那么这个米拉之家就是他的杰作之一，也是我们在巴萨的第一个景点。米拉之家建于1906年至1912年，坐落于这座城市的格拉西亚（Passeig de Gràcia）大道上。从外形上看，第一眼你会觉得这个建筑太卡哇伊了，像个长了很多刺的大蘑菇。因为当年富豪米拉先生非常欣赏高迪为巴特由先生设计的巴特由之家，所以特地为了和富孀 Roser Segimon 结婚而请高迪设计的，这也是高迪设计的最后一座私人住宅。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ooo.0o0.ooo/2016/12/10/584c41eaf3653.jpg&quot; alt=&quot;西班牙新_39&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　值得说的是，登上米拉之家的楼顶，这里有个拱形的小洞，透过这个洞可以看到远处的圣家堂，而圣家堂是高迪在有生之年都没有盖完的一座举世闻名的教堂，之后我会隆重介绍这个教堂的，而现在我们还需要在米拉之家逛逛。说实在的，你要是亲身经历过此地你会为高迪的设计能力和超高的艺术修养所折服。各种千奇百怪的形状冲撞着你的视觉感官，几乎你走到一个地方都会见到他设计的独具匠心，而且每个地方都是独一无二的，绝没有重复。反正，我是深深的被他的作品所打动了。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ooo.0o0.ooo/2016/12/10/584c41e97eb99.jpg&quot; alt=&quot;西班牙新_40&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　进入米拉之家的内部参观，很多房间，不同房间有他自己的故事，而这些曾经的故事都被一一的保留下来。我承认我已经记不清这些屋子了，当我写这篇文章的时候也没有太仔细去看这些照片。我只知道当时的感觉是什么，那是一种太奢华的感觉。从米拉之家出来以后，天已经黑下来了，我们在回民宿的路上想找家饭馆吃饭，之前看攻略上说这里的海鲜饭颇为可口，所以女生们就想找一家比较正宗的餐厅尝尝海鲜饭。可是，我们逛了许久也没有找到一家合适的餐馆。最后，只能进了一家我们认为有可能不错的饭馆，结果事实证明这家饭馆很坑人，饭菜做的一点也不好吃，而且死贵，最终姑娘们点的海鲜饭也以谁都不想吃最后一个虾而结束。原因是，这海鲜饭做的太垃圾了。我记得我们往回走的过程中路过了很多小店，我们也些许的逛了逛，但是啥也没有买。路过一条幽静的小路的时候，我突然有种想家的感觉，一想到旅程就要结束马上就能回家的感觉，那种感觉还是颇为激动的。回到民宿后我们各自休息了。&lt;/p&gt;

&lt;p&gt;　　第二天，我们又来到了刚才我说要隆重介绍的圣家堂。起初，我还不知道圣家堂是什么呢，只是稀里糊涂的跟着姑娘们来到了这里。当到达这个教堂的时候，我貌似没有太惊讶于教堂的外观，貌似当时就是觉得这哪是教堂啊，这不就是个说不出来什么样子的教堂么，至于里面什么样子。我们已经来西班牙那么长时间了，也已经去骨很多歌教堂了，里面大概和之前的没有太大差别。后来，事实证明了我的判断是完全错了。来，我们看一下百度百科上对于圣家堂的介绍先。圣家堂（Sagrada Família），是位于西班牙加泰罗尼亚巴塞罗那的一座罗马天主教大型教堂，由西班牙建筑师安东尼奥·高迪（1852–1926）设计。尽管教堂还未竣工，但已被联合国教科文组织选为世界遗产。看到了吧？这个可是世界遗产哦，也就是说这个教堂的杀手锏还没有让我们看到呢。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ooo.0o0.ooo/2016/12/10/584c41e954023.jpg&quot; alt=&quot;西班牙新_41&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　我不得不说一下，圣家堂是由三个立面组成的。分别是：诞生里面，受难立面和荣耀立面。他们分别竣工的时间是：1935，1954，至今未完工。也就是说，这座建筑的整个工程还没有完工，从现在的进度来看，建造时间超1个世纪不是不可能。我有幸在有生之年见证了这座世界遗产的建造呢。可以说，如果来了西班牙就一定要去圣家堂，这个是西班牙的最著名的建筑，没有之一。&lt;/p&gt;

&lt;p&gt;　　当你进入到圣家堂内部的时候，更大的惊喜还在等待着你呢。那种冰与火的碰撞在这座教堂内部体现的淋漓尽致。为什么这么说呢？这是因为高迪在设计的时候，采用了花玻璃开在了教堂两边，一边对着太阳升起的位置，一边对着太阳落下的位置。日出是冷色调，日落是暖色调，这样阳光的直射和漫反射通过花玻璃的扩大色调，强烈的反差感直接赤裸裸的碰撞到了一起。碰撞后的结果没有遗漏的全部洒在你的身上。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ooo.0o0.ooo/2016/12/10/584c41e870b60.jpg&quot; alt=&quot;西班牙新_42&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　教堂是宏伟的，虽说我们不想那么快的离开这个地方。但是，我们的时间不够只能依依不舍的离开了。为了留作纪念，怕以后再也不会回到这个地方故买了一个他出口设立的纪念品消费店中偶的酒杯。女孩子们都在买什么折纸啊，明信片啊。而我却买了一个代表圣家堂的小酒杯，大小就是喝红酒那样的玻璃杯，不是高脚杯。这样，每当我喝红酒或者白酒的时候我都能拿起这个杯子喝上几口，那个时候我就能找回在圣家堂受到感染的感觉。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ooo.0o0.ooo/2016/12/10/584c41ea37784.jpg&quot; alt=&quot;西班牙新_43&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　圣家堂去完以后，我们转战到了巴特由之家。这个咱们之前提到过，巴特由之家也是高迪的作品。但是，我觉得里面都是现代的东西。而且，门票超贵，我就没有选择进去。我认为对我来说这东西对我没有太大的吸引力了。所以，我自己留在了外面，姑娘们进去游玩了。照片是姑娘们照的，我也没进去。所以，并不知道什么样子的照片能够体现出当时的那种气氛。我只能强行的拼接几张图片凑上来了。后来，她们出来告诉我，这里面很好玩。贵有贵的原因，因为里面可以用手机照着看曾经的样子，非常有科技感。在他们进去的时候，我走过了3个街区，就为了买包烟。外国的烟都是混合烟，对于抽惯了烤烟的中国人来说，混合烟确实是有那么一股恶心的味道。但是，我也没有办法。只能忍着难受买了包kent。之后，我在等着她们的时候感觉到了饥饿，于是我就进了旁边的麦当劳店。我发现，西班牙的麦当劳店要不中国的店贵那么10几块人民币，但是量给的超足。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ooo.0o0.ooo/2016/12/10/584c41ec31e45.jpg&quot; alt=&quot;西班牙新_44&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　等姑娘们从里面出来以后，她们也感觉到了饿。于是，我陪着她们吃了一顿晚饭后就往回奔了。在回去的路上，我们商量，因为明天是在西班牙的最后一天，我们自己也做个饭吃吧。在西班牙的这段时间里都没有享受一下自己做饭的乐趣。大家都欣然的同意了，我当然也不例外。因为，中国的姑娘天生脑子里就会认为，男人不用做饭，她们做好了男人直接吃就成了~哈哈。事实也是这样的，我没有管做饭，第二天早上一大早就有她们给我做的饭哈哈。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ooo.0o0.ooo/2016/12/10/584c41ea943e3.jpg&quot; alt=&quot;西班牙新_45&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　不过话说回来，这顿早点根本没啥技术含量可言。及时摊了几个鸡蛋外加煎了几根肠，然后烤出的面包都是硬邦邦的噶本脆那种，再配着酸不拉几的橙子那种味道简直是酸爽。不过，在我们这种快节奏的西班牙旅行中，能有一小时这种悠闲吃早饭的时间还是相当珍贵的。&lt;/p&gt;

&lt;p&gt;　　紧接着，我们就奔向了我们最后一个景点-古埃尔公园，又名奎尔公园。奎尔公园位于西班牙巴塞罗那市区市北，占地20公顷，原来是巴塞罗那富商艾乌塞比奎尔伯爵计划建立并由高迪设计的一个社区旧址，建于1900-1914年，并被联合国教科文组织列入世界文化遗产。1922年，市政府将其收购，开辟为社区公园对外开放。看到了没有，又是高迪的作品，又是世界文化遗产。但是，这个公园的冲击力很小，就因为这个公园里有个七彩变色龙所以闻名。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://ooo.0o0.ooo/2016/12/10/584c41ec49c59.jpg&quot; alt=&quot;西班牙新_46&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　好了，我们的旅程已经结束了。这是我在2016年12月11日凌晨1：55写完的。距离这次的西班牙之旅已经过去了1年2个月15天了。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="life" /><category term="旅行,西班牙,自由行" /><summary type="html">生活是一段奇妙的旅行，就在那一去无返的火车上。与那些新人和旧人们共同经历吧！也许这就是一个人无法抗拒的命运，有你、有我、也有他。</summary></entry><entry><title type="html">今天研究一下Javascript的冒泡机制</title><link href="http://localhost:4000/tech/2016/12/10/1.html" rel="alternate" type="text/html" title="今天研究一下Javascript的冒泡机制" /><published>2016-12-10T00:00:00+08:00</published><updated>2016-12-10T00:00:00+08:00</updated><id>http://localhost:4000/tech/2016/12/10/1</id><content type="html" xml:base="http://localhost:4000/tech/2016/12/10/1.html">&lt;p&gt;　　今天，当我在做nodejs的时候刚巧碰到了javascript的冒泡机制。曾经，我是有看过这方面的知识。但是，已经好久没有碰触javascript的内部原理了。所以，有些淡忘了。我又重新做了下研究并记录于此。&lt;/p&gt;

&lt;p&gt;　　我们知道一个网页是由DOM（文档对象模型）控制着结构的。在HTML中很多地方都是一个标签套着另一个标签。这样的结构渲染在页面上的时候你是发现不出层级关系的。当你在页面上操作一个元素的时候，这个元素很可能不是唯一一个在一个嵌套体内有监听事件的元素。也就是说在他的上级或者下级都有可能一直在监听着同一种事件，那这个时候谁先谁后的问题就产生了。&lt;/p&gt;

&lt;p&gt;　　在分析之前，我先做个&lt;a href=&quot;https://github.com/naffan2014/naffan2014.github.io.demo/blob/master/20161211/a.html&quot;&gt;例子&lt;/a&gt;。这个例子运用了javascript的&lt;a href=&quot;http://www.runoob.com/js/js-htmldom-eventlistener.html&quot;&gt;addEventListener函数&lt;/a&gt;。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;document.getElementById('box1').addEventListener('click',function(){alert('box1')},TRUE/FALSE);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;　　在addEventListener函数中的第三个参数是用来指定冒泡/捕捉类型的。这个参数对于整体的设置监听事件有很大的帮助。false是冒泡（默认），ture是捕捉。&lt;/p&gt;
&lt;h3 id=&quot;section&quot;&gt;两种模型&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;捕获模型&lt;/p&gt;

    &lt;p&gt;就是从DOM结构的外向里的方向进行响应事件。&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;冒泡模型&lt;/p&gt;

    &lt;p&gt;就是从DOM结构的里向外的方向进行响应事件。&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;　　以上是两种模型，然而不光这两个模型影响着事件谁先执行，浏览器自己也影响着。不同的浏览器有自己的核心，所以也有着自己独特的设计。其实无外乎三种，就是内往外，外向内，从外到内再从内到外。可以把这个理解为过程，比如冒泡就是将事件在这个过程中进行绑定，而并不是触发。我觉得这个有可能会有点绕，但是一旦理解了这个机制大概就能明白了。我也是从别人家的博客看到的。可以看看底下参考链接中的第一篇文章，这篇文章是外国人写的后国人翻译成中文的，虽然里面有些翻译问题，但是你跟着他的思路想还是能够想的差不多的。&lt;/p&gt;

&lt;p&gt;　　现如今，各种浏览器也被强制要求采用统一标准了，这个标准就是W3C标准。当浏览器统一标准后兼容性问题就会变得越来越少。所以，我真的不想总去测试那些在IE6上的效果，我觉得对自己一点意义没有。&lt;/p&gt;

&lt;p&gt;　　在我们编写js的时候，经常会给元素添加onclick事件，这些事件默认的都是冒泡阶段保定事件的。所以，我们在开发的时候不用特别注意的去选择捕捉还是冒泡。但是，我们需要知道的是如何去阻止冒泡的行为。参看参考中的第三篇文章，这里面就给出了e.stopPropagation()的用法。&lt;/p&gt;

&lt;p&gt;　　在写这篇文章的时候，自己去写了一下&lt;a href=&quot;https://github.com/naffan2014/naffan2014.github.io.demo/blob/master/20161211/a.html&quot;&gt;例子&lt;/a&gt;。在测试的时候我发现一个问题，那就是addEventListener这个函数的第二个参数如果你写成这样：&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-javascript&quot;&gt;document.getElementById('box1').addEventListener('click',abc('box1'));
function abc(x){
    alert(x)
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;　　也就是我想通过调用函数时通过传递参数的形式传送到定义好的函数时，当刷新页面的时候页面会将alert输出出来。于是我就查了一下原因，找到了参考中的第五篇文章。看完作者的文章以后我有个疑惑，我觉得作者对js的理解并不是很深（虽然我也不是很深吧）。因为，我们知道js的匿名函数如果后面增加了一个括号的话，意思就是要立刻执行。那么这个我想这个立即执行的原因应该是跟js的编译机制有关系，js在对编码进行编译的时候会将这样的函数调用立即进行调用的。当我写到这的时候我去百度搜索了一下我印象中的几篇博客，但是没有找到我曾看到的那段话。下次吧，我等下次再看js编译顺序的文章时再过来进行补完吧，关键词大概就是javascript闭包之类的。&lt;/p&gt;

&lt;p&gt;本文参考：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/hh54188/archive/2012/02/08/2343357.html&quot;&gt;http://www.cnblogs.com/hh54188/archive/2012/02/08/2343357.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://blog.csdn.net/luanlouis/article/details/23927347#&quot;&gt;http://blog.csdn.net/luanlouis/article/details/23927347#&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/webflash/archive/2009/08/23/1552462.html&quot;&gt;http://www.cnblogs.com/webflash/archive/2009/08/23/1552462.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.quirksmode.org/js/events_order.html&quot;&gt;http://www.quirksmode.org/js/events_order.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.cnblogs.com/fangshidaima/p/Fangfang_chengzhang.html&quot;&gt;http://www.cnblogs.com/fangshidaima/p/Fangfang_chengzhang.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>张一帆</name></author><category term="tech" /><category term="js" /><summary type="html">　　今天，当我在做nodejs的时候刚巧碰到了javascript的冒泡机制。曾经，我是有看过这方面的知识。但是，已经好久没有碰触javascript的内部原理了。所以，有些淡忘了。我又重新做了下研究并记录于此。</summary></entry><entry><title type="html">对于新经济形势下北京房市的观点</title><link href="http://localhost:4000/economy/2016/11/29/1.html" rel="alternate" type="text/html" title="对于新经济形势下北京房市的观点" /><published>2016-11-29T00:00:00+08:00</published><updated>2016-11-29T00:00:00+08:00</updated><id>http://localhost:4000/economy/2016/11/29/1</id><content type="html" xml:base="http://localhost:4000/economy/2016/11/29/1.html">&lt;p&gt;　　北京楼市短期观点：不看好未来一年内的北京楼市，但有值得购买的地区和房子。&lt;/p&gt;

&lt;p&gt;　　全国楼市观点：不看好未来一年的全国楼市，非精选地区风险高。全国楼市两级分化将更为严重，三四线去库存压力加大，二线城市在释放完本轮需求后也将继续分化，看好杭州、厦门、武汉等。一线楼市在细化区分下螺旋上升。有几率出现地产崩盘情况，但概率不大。&lt;/p&gt;

&lt;p&gt;分析：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;当下货币政策中性，显效需要时间；&lt;/li&gt;
  &lt;li&gt;部分地区上涨过快，g20上习大大明确表示要治理楼市，在国际会议上态度不再暧昧，政策正在改变；&lt;/li&gt;
  &lt;li&gt;银行贷款上半年超额发放，随着业绩完成和政策收紧，放款也在收紧。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;　　本轮楼市上升周期为2014年下半年至2016下半年，根源为大规模货币宽松刺激，并且在暴涨过程中政府仍有推波助澜的作用，并非出现管不住的情况。预计房价在未来半年内趋于平稳，明年上半年甚至有可能出现短暂下跌。但暴涨暴跌不利于国民经济和政府稳定，所以通过调控缓慢上涨概率高。个人来说，有通过杠杆取得超额收益的机会。&lt;/p&gt;

&lt;p&gt;　　未来预判：对于具体房价涨跌，主要关注GDP数据，如果高于6.7，为了去除过剩产能、改革结构并为美元加息留出余地，货币政策将更为收紧，房地产将出现拐点；6.5～6.7继续维持中性货币政策，运用各种规则条文控制房价，房价小幅上涨概率大；低于6.5，国民经济可能有失速风险，就业不保，可能重新放开货币政策，房价将进入新一轮飙升计划。&lt;/p&gt;

&lt;p&gt;　　应对策略：最大化利用杠杆在可以忍受的亏损范围内尽量少地投入资金，&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;购买城市核心资源区域和公共资源翘楚区域，有前景低单价高性价比的房子；&lt;/li&gt;
  &lt;li&gt;购买一些特殊的房产；&lt;/li&gt;
  &lt;li&gt;手握资金关注GDP情况，明年再决定买点。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;实际操作的参考与建议：首选第一种，但由于近期房价变化较大，在本人可忍受亏损的范围内房子很少了，现在正考虑第2和第3策略。但如果有增量资金合买，可选范围扩大，现在仍有适合的标的。&lt;/p&gt;

&lt;p&gt;　　第一种策略，可以买北五环，东五环，南三环，西四环内或附近，和通州及新机场的房子。主要考虑城八区核心资源和北京副中心。从3月至今考虑购入房产位置为：双井、劲松、西坝河、老国展、三元桥、北新桥、石景山永乐小区、通州、三里屯、工体
第二种策略，共发现三种：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;宽街商住两用酒店公寓，租售比1:200，总价低；&lt;/li&gt;
  &lt;li&gt;工体财产分割公房；&lt;/li&gt;
  &lt;li&gt;石景山永乐小区天然气爆炸后急降的房产。&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;　　由于通州出现无房可售的情况，考虑到饥饿营销和需求释放至少到17年底市政实际入住，现有增量资金进入的情况下，采用第一种策略，首选通州。&lt;/p&gt;

&lt;p&gt;本文出处：&lt;a href=&quot;http://user.qzone.qq.com/229759693/2&quot;&gt;对于新经济形势下北京房市的观点&lt;/a&gt;&lt;/p&gt;</content><author><name>胡承楠</name></author><category term="economy" /><category term="经济,房价,观点" /><summary type="html">　　北京楼市短期观点：不看好未来一年内的北京楼市，但有值得购买的地区和房子。</summary></entry></feed>
