<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xml" href="http://naffan.cn/feed.xslt.xml"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.3.1">Jekyll</generator><link href="http://naffan.cn/feed.xml" rel="self" type="application/atom+xml" /><link href="http://naffan.cn/" rel="alternate" type="text/html" /><updated>2017-03-23T00:58:47+08:00</updated><id>http://naffan.cn//</id><title type="html">拿饭网</title><subtitle>拿饭网是一个私人博客系统，采用jekyll博客系统部署在GitHub-Pages服务上。拿饭网内的文章均出自作者，作者以技术为导向同时兼顾自己的生活与对经济的观点。</subtitle><author><name>张一帆</name></author><entry><title type="html">说一说我理解的商业模式</title><link href="http://naffan.cn/thinking/2017/03/22/1.html" rel="alternate" type="text/html" title="说一说我理解的商业模式" /><published>2017-03-22T00:00:00+08:00</published><updated>2017-03-22T00:00:00+08:00</updated><id>http://naffan.cn/thinking/2017/03/22/1</id><content type="html" xml:base="http://naffan.cn/thinking/2017/03/22/1.html">&lt;p&gt;　　今天，我在路上翻阅我在微信上关注的公众号时突然看到一篇文章是讲产品经理的文章，这篇的作者就以他个人的观点阐述了一下他理解的商业模式的概念，通读他的文章后突然就想抒发一下我自己理解的商业模式了。商业模式这个词近几年我是频频看到过，但每次都对这个词有各种的不懂，今天正好又再一次看到了这个词汇，所以就想逼着自己去整理下自己对商业模式这个词的理解，我不能说我对这个词有什么高谈论阔或者深入的了解，只是觉得我应该自己去真正意义上的思考一下了。&lt;/p&gt;

&lt;p&gt;　　最近也同时在读一本书，书的名字叫&lt;a href=&quot;https://item.jd.com/11435655.html&quot;&gt;《如何阅读一本书》&lt;/a&gt;，书中就阐述了一些关于自己是否真正吸纳到了真正属于自己的知识。书中大概的意思就是说，作者写出的文字你是否理解是可以通过读者用自己的话语重新表达一番作者的意思，如果用自己的话阐述出来的意思和作者基本一致，那么就算读者真真正正的理解了作者所写所想，然而如果读者不能完成而总是借用作者的词语的话那么就是所谓的不懂。我深深的信服这句话，之前也看过一篇文章讲到知识和信息的关系，那篇文章说网络上的信息很多，任何人都可以获取到同样的信息，然而要使这个信息为己所用就要通过自身的理解去消化信息，从而让信息变成自己的知识。所以说，这篇网络上的文章和这本书中所讲是不谋而合的。所以，我才试图逼着自己去消化我看到过的信息。而这篇文章就是我在实践这个道理，不论我所写的是多么的词不达意。只要我尝试着去做，一次两次写不出深意，然而百八十次自然就会融会贯通。&lt;/p&gt;

&lt;p&gt;　　我随便在百度上搜了一篇关于讲“商业模式”的&lt;a href=&quot;http://www.managershare.com/wiki/商业模式&quot;&gt;文章&lt;/a&gt;，其中作者把它简单地定义为&lt;strong&gt;商业模式就是公司通过什么途径或方式来赚钱&lt;/strong&gt;。而紧接着就举了汽车公司、食品公司、快递公司的例子。而这位作者的理解正好和我看到的公众号上的文章有所出入，公众号上的文章作者把商业模式简单的定义为&lt;strong&gt;商业过程中我们为用户创造了什么价值&lt;/strong&gt;，而作者又定义了一下盈利模式&lt;strong&gt;我们怎么赚钱，收入来源及结构&lt;/strong&gt;。可以发现第一位作者理解的商业模式是第二位作者的盈利模式，也就是说第一位作者将商业这个词理解为金钱的获取的一种模式，而第二位作者认为商业模式是单纯的站在用户的观点上寻找用户需求。我们很难说清楚两者孰优孰劣，因为每一个人心中都有一个哈姆雷特。正因为这所以每个人对商业模式的理解都是不一样的。所以我们大可跳出这两位作者的理解去归纳自己认为的商业模式，也就是说你认为是什么意思就是什么意思。&lt;/p&gt;

&lt;p&gt;　　我自以为要想分析商业模式的概念，就要从表及里的去分析。我们完全可以按照字面上的意思先行做出一个笼统的判断。比如商业模式是由两个词构成，一个是商业一个是模式。那么就先让我们看看商业这个概念。于是，我在百度百科中搜索了商业这个词条，是这么定义的：&lt;strong&gt;是一种有组织的提供顾客所需的商品与服务行为&lt;/strong&gt;。这里面包括几种意思：&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;提供商品与服务&lt;/li&gt;
  &lt;li&gt;给需求方&lt;/li&gt;
  &lt;li&gt;有组织性&lt;/li&gt;
  &lt;li&gt;一种行为&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;　　当然商业是一种行商词汇，何为商？就是既有需求方又有供给方。商业是需要供给双方的一种行为，那既然有了供给就必然是一种有人付出和有人所得的。这也就是说双方是通过互换东西的行为，而这个东西不必是金钱，只要是双方都认可的东西即可。通过这点，我稍微觉得第一位作者把商业理解的稍微单一化了。&lt;/p&gt;

&lt;p&gt;　　我们再接下来看模式这个词汇。百度百科上是这么写的：指事物的标准样式。这句话理解的难点主要体现在样式这个单词上。什么叫做样式？是一种样子款式么？其实，我更认为这是一种抽象概念。本人是学计算机的，对于计算机语言中所讲的抽象和模式是有一点自己的理解的。站在编程角度上理解模式的存在意义是由于刚开始的代码编写杂乱无章，而当项目庞大的同时代码就会变得难以驾控，所以我们要为了化繁为简制造出一种有利约束的模式出来。其实这也印证了上面的那个有组织性的概念。&lt;/p&gt;

&lt;p&gt;　　其实，说了这么多无非就是咬文嚼字罢了。我们终归还是需要将其归纳成一个更好理解的概念出来。当然，我们还是会侧重这个模式来解释，因为模式才是最重要的概念。因为是模式，那么肯定每个商业有其特有的特点嘛。所以，我总结的就是&lt;strong&gt;符合自身商业发展的预先设计好的一种行为&lt;/strong&gt;。如果按照大白话的想法去理解，肯定大家都会说我看了那么多，你就给我看这个？其实仔细想想还真有的那么一点可以玩味的概念在里面吧。按照我的理解来说，商业模式跟盈利没有太大的关系，也不是站在什么用户的角度上看我们能给他们带来什么价值之说。要真是按照第二位作者来理解的话，我更觉得他的解释应该对应的是商业价值。所以说，模式就是模式。就是一种规范前人干过的事情的总结与归纳并且制定出一套不用再去重复造轮子的规则而已。至于商业来说嘛，自然是为了自己的商业发展而定的模式喽。&lt;/p&gt;

&lt;p&gt;　　现在，很多人都解释过商业模式一词。可是，一个企业最看重的就是自己的挣钱诀窍的涉密性。人家不可能平白无故的就让外人通过几句话的分析就能够摸透其中的奥秘吧。所以，也就是说我们所能够分析到的商业模式是人家的皮毛而已，这些书面上的东西拿到真实的场景里，哪个能够快速并且正确的起效呢？想必是没有吧。但是，我想说商业模式必定是经过当事人很长尝试出来的结果，这里面包括成功与失败。所以，这个模式就是人家的血泪史的见证。他们在慢慢的重构自己的思想和方向，从而达到了适合他们自己的商业模式。而我们完全可以窥探到他们用的方法。即使得不到与他们完全一致的方法，至少这也是自己来迭代出来的一套思想。&lt;/p&gt;

&lt;p&gt;　　你们会不会感觉我写这篇文章来讲商业模式很空虚乏味呀？我真心认为如果你读到这肯定会说这写的是什么玩意啊。但是，我确实想说一下，现在在网上找到的讲商业模式的文章哪个不是说的云里雾里的呢？有那几个能够接地气的呢？如果真的接地气的话，我相信商业模式早就能有个标准答案公布在网上了。我只是将我的个人不成熟的思想记录在这里，等将来有了更加深刻的理解以后再重新修改本篇文章呗。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="thinking" /><category term="思考,商业模式" /><summary type="html">　　今天，我在路上翻阅我在微信上关注的公众号时突然看到一篇文章是讲产品经理的文章，这篇的作者就以他个人的观点阐述了一下他理解的商业模式的概念，通读他的文章后突然就想抒发一下我自己理解的商业模式了。商业模式这个词近几年我是频频看到过，但每次都对这个词有各种的不懂，今天正好又再一次看到了这个词汇，所以就想逼着自己去整理下自己对商业模式这个词的理解，我不能说我对这个词有什么高谈论阔或者深入的了解，只是觉得我应该自己去真正意义上的思考一下了。</summary></entry><entry><title type="html">看《大秦帝国之崛起》有感</title><link href="http://naffan.cn/thinking/2017/03/08/01.html" rel="alternate" type="text/html" title="看《大秦帝国之崛起》有感" /><published>2017-03-08T00:00:00+08:00</published><updated>2017-03-08T00:00:00+08:00</updated><id>http://naffan.cn/thinking/2017/03/08/01</id><content type="html" xml:base="http://naffan.cn/thinking/2017/03/08/01.html">&lt;blockquote&gt;
  &lt;p&gt;人生据说是一部大书。假使人生真是这样，那么，我们一大半作者只能算是书评家，具有书评家的本领，无须看得几页书，议论早已发了一大堆，书评一篇写完交卷。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;前些日子刚刚看完了&lt;a href=&quot;http://naffan.cn/thinking/2017/02/26/1.html&quot;&gt;《大明王朝1566嘉靖与海瑞》&lt;/a&gt;后，趁着自己对海瑞的看法赶紧写下一篇读后感，写完以后发现自己虽然感慨颇多并且也在网上看了各种讨论关于海瑞性情的文章，但是到真正要下笔写一篇读后感的时候思维却无比混乱，就连那一丝的灵感也消失殆尽了。只能怨自己语文功底太差，对文章的总体把握没有做好。这就如同我小时候最不愿意写作文的情况一样，每当我写文章的时候写着写着就忘记前面写的是什么了，导致越写越脱离文章主旨，最终只能草草了事。&lt;/p&gt;

&lt;p&gt;虽然，自己有很多的这种那种的问题，但是我终归还是信‘有志者事竟成’这句古话的，就算自己做的不够好，但是自己努力去做就会越做越好，越来越棒的。&lt;/p&gt;

&lt;p&gt;看了大明王朝以后，发现优酷会员里同时还在推另一部史诗巨作《大秦王朝之崛起》，于是乎就打开尝试的看了一看。上来第一集就是芈八子带着年幼的嬴稷从楚国秘密回国，而回国途中遭遇了刺客袭击。虽然我现在能够讲出这女人是谁，他们在干什么。但是，我第一次看的时候真是一脸懵逼。因为，我对中国的历史并不感冒，中学时代老师教给我们的历史课也是跟同学嬉嬉笑笑，打打闹闹的过去的。等到长大了才真正的想去了解一下中国战国时期的历史以及历史典故，我真狠小的时候不懂得珍惜。不过，话说回来，我们这一代中像我这样的也不是少数。所以，我也不用妄自菲薄，多少人都和我一样小的时候也是嬉戏打闹的过来的。至少，现在我有机会去认真的了解一下这段历史。&lt;/p&gt;

&lt;p&gt;大秦帝国这部电视连续剧其实之前还有两部，一部是裂变，一部是纵横，这部是第三部叫崛起。剧情如剧名，秦国正处在崛起之中。那想必前两部肯定有一部是将衰落的，等我看完了第三部以后现在又在追第一部，发现第一部时秦国还真是弱小。不过，这篇文章我是想写崛起给我的启发的，故不再赘述有关于前两部的剧情了。&lt;/p&gt;

&lt;p&gt;这部电视剧讲的是亲昭襄王嬴稷的一生，从突然即位时自己的生母宣太后独揽朝政与自己的叔父魏冉独揽军权，到慢慢长大后从总是做错事让别人给他擦屁股而后成长为一个稍有能力的君王，再到获得了范雎的辅佐废除母亲的专权取缔叔父的兵权，最后与赵国打了一场持续三年的长平之战后令白起屠杀四十万降兵，最终听信谗言差点毁掉秦国然而自己奋然觉醒后奠基秦国之道。整部电视剧基本虽然改编自小说，但是基本还是比较尊重历史的，虽然拍摄技巧以及人员能力上都不及大明王朝，然而也算是烘托出了一张宏大的画卷。&lt;/p&gt;

&lt;p&gt;这部戏有几个重要人物需要罗列一下。第一个就是&lt;a href=&quot;http://baike.baidu.com/link?url=-YHwkAum11qAcM8HUG09jtl069aW_JFPJY3f-bh1QupG2MwVqscYvBINigF8aYIN-CqKknBcVQpLf81ET5i-FFjV-SLvlNV0d049JV5vfqoqnqVQiiLbi85x_CzHWHCsLdITGqjGzYfz1FCES3V8U28V0jf_apA1ySLz8uc-btgUD-ENSCL90qrCidPyayPv&quot;&gt;嬴稷&lt;/a&gt;，他是继秦武王之后的君王（当时还没有皇上一词，皇上一次始于秦始皇，也就是嬴稷的儿子的孙子），也是全剧的主角。第二个是&lt;a href=&quot;http://baike.baidu.com/item/宣太后?fromtitle=芈八子&amp;amp;fromid=7272089&amp;amp;type=syn&amp;amp;sefr=cr&quot;&gt;宣太后&lt;/a&gt;，也称芈月，芈月传就是讲的她。第三个就是&lt;a href=&quot;http://baike.baidu.com/item/魏冉/18255?sefr=cr&quot;&gt;魏冉&lt;/a&gt;，他在嬴稷还不能掌握兵权时一直在保护秦国。第四个就是&lt;a href=&quot;http://baike.baidu.com/item/白起/131407?sefr=cr&quot;&gt;白起&lt;/a&gt;，他是秦国的战神，一生杀敌无数，致死都没有打过一场败仗。但是后来被小人谗言致死。第四个就是前面说的这个小人&lt;a href=&quot;http://baike.baidu.com/item/范雎?sefr=cr&quot;&gt;范雎&lt;/a&gt;，虽然称其小人，他还真能对得起这个称号，但是他虽没有大量却拥有治国之才，也是后来嬴稷任他做丞相以后秦国才慢慢的发展壮大起来的。第五个则是&lt;a href=&quot;http://baike.baidu.com/item/苏秦/7043?sefr=cr&quot;&gt;苏秦&lt;/a&gt;，他是一个纵横家，如果没有苏秦的灭齐之举，秦国恐怕会被齐国灭亡。&lt;/p&gt;

&lt;p&gt;在战国时期，七个国家都受制于其他国家，如果一个国家过于强盛其他六国均会想尽一切办法来削弱之。所以，在这个年代国家之间的勾心斗角屡见不鲜，比如田文的联合齐魏韩伐楚，合纵韩魏伐秦，六国合纵伐齐等等层出不穷，其实位的都是一个利字。这也跟现如今的国家与国家之间的关系一样，此消彼长，互相制约。目前，“萨德”一事就因朝韩关系紧张所致，而美国则是韩国的依靠在韩国意欲建立反导弹系统，而防御范围却涉及我国大陆安全，现在闹得沸沸扬扬，中国已经对韩国采取了经济上的制裁，比如关闭韩企乐天超市，禁止韩国旅游团等等。我们生活在这个风云跌宕的时代，时时刻刻都会感受到国际上的压力。所以，国与国之间的斗争是从未停止的，也不会停止。最终只会有两种结果，要不就是自己灭亡，要不就是灭亡他国，最终走向统一。而说回秦国，秦国也是从一个弱小国家开始，经过商鞅变法后才慢慢恢复元气从而变得越来越强大，而后经过秦人几代人的努力，才在天时地利人和的条件下统一了中国。论能力嬴稷的才能是知人善任，而又能攻于人心。他很好的利用了苏秦的反间计，重用了小人之心的范雎，这是一般的人很难做到的。我想嬴稷之所以这样是跟他继位时的经历有关的。嬴稷在他22岁的时候加冠亲政，但是一直就是王权旁落，而宣太后掌握政权，穰侯掌握军权，自己俨然是个傀儡，这个问题他自己也是意识的到的。就因为人都有种想被别人认可的心态，所以他才自作主张以协商之由哄楚王前来而后扣押楚王，信任田文而后田文受排挤不被重用又回到齐国后合纵攻秦。这两件事情皆说明了他想摆脱母亲的掌权去做自己认为合适的决策，但是最后还是由于自己的决定过于草率引来了意想不到的结果，最终还是要让宣太后和穰侯替他擦屁股。他是希望自己来管理国家大事的，所以他一直想找一些能够读懂他心思的人来辅佐他，而到了后期在他思想已经形成体系的时候碰到了范雎，在大家皆反对认范雎为丞相时，嬴稷毅然决然的启用了范雎。而范雎在王稽府上跟王稽说要想让王上启用他的时候，他说出了要想让王启用他就要了解嬴稷的喜怒哀乐，爱恨情仇。真因为范雎深深的赢得了嬴稷的内心，同时也赢得了这个丞相。在秦国的发展中我们可以看到嬴稷并没有选错人，而这更佐证了嬴稷会用人。&lt;/p&gt;

&lt;p&gt;让我们再来说说白起，论战法白起算是门道高手，他被但是的人成为战神，都说只要战争拥有他就是必胜的标示，以至于当时的人不知秦王都不会不知白起。就这样白起的名声很大，以致于盖过了君王。中国有句古话“功高盖主”，一旦这样的话难免会让王上对他起猜疑，何况嬴稷旁边还有个范雎呢。在&lt;a href=&quot;http://baike.baidu.com/item/长平之战/66472?sefr=cr&quot;&gt;长平之战&lt;/a&gt;中，白起担起了统帅一职，经过自己对兵书的研读和久经沙场的经验最终打败了赵军。然而，军粮不够用，赵国的降兵如何处置让他没有办法。于是，他奏请了一封信给秦王，想让秦王拿主意。然而，嬴稷准备发诏的时候被范雎拦住了。最终，写了一纸空诏寄回给了白起，榆次同时又把白起的媳妇带到了白起身边。白起当然明白空诏就是让自己自行处理，而让老婆过来就是让自己做一道选择题，是选家还是选国。最终，白起还是在黑夜中趁着40万赵军熟睡的情况下杀死了这40万的降兵。而后，白起准备一举拿下邯郸时，嬴稷听信范雎意见命白起收兵回城，白起听到后叹气时机已过。后来，白起以病为由不再领兵打仗，任由嬴稷跑来几趟，皆是拒绝带兵出征。而后，嬴稷认为白起有可能造反就赐给他宝剑让他自问。其实，比起说白起不带兵是怕输掉这场战争，不如说是白起对范雎的一种抗拒。白起肯定会知道，自己的谗言肯定是范雎这小子闹得，所以他用这种态度来保持无作为。然而，当嬴稷最终认为白起忠的是国家，而非自己。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="thinking" /><category term="思考,观后感" /><summary type="html">人生据说是一部大书。假使人生真是这样，那么，我们一大半作者只能算是书评家，具有书评家的本领，无须看得几页书，议论早已发了一大堆，书评一篇写完交卷。</summary></entry><entry><title type="html">看《大明王朝1566嘉靖与海瑞》有感</title><link href="http://naffan.cn/thinking/2017/02/26/1.html" rel="alternate" type="text/html" title="看《大明王朝1566嘉靖与海瑞》有感" /><published>2017-02-26T00:00:00+08:00</published><updated>2017-02-26T00:00:00+08:00</updated><id>http://naffan.cn/thinking/2017/02/26/1</id><content type="html" xml:base="http://naffan.cn/thinking/2017/02/26/1.html">&lt;blockquote&gt;
  &lt;p&gt;有了门，我们可以出去;有了窗，我们可以不必出去。 –钱钟书&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　最近，机缘巧合在优酷看到了这部电视剧。因为家里有人在看所以顺便打开来就是随便地看一看，心想如果没什么意思或者拍的都是小鲜肉之类的就不继续看下去了，如果拍的是历史题材那么正好可以补一下我对中国古代的历史知识的匮乏。于是，就打开了这个视频。记得刚打开的时候演的是冯宝在午门之外杖打周云逸，直接就给观众一个大大的悬念，之后镜头一转就出现了&lt;a href=&quot;http://baike.baidu.com/item/朱厚熜/2412426&quot;&gt;嘉靖皇帝&lt;/a&gt;，一看原来是&lt;a href=&quot;http://baike.baidu.com/subview/27898/5991996.htm&quot;&gt;陈宝国&lt;/a&gt;演的嘉靖，这一来对此剧倍感兴趣。原因是，很早看过大宅门，陈宝国在剧中给我的印象极其深刻。慢慢的随着电视剧的深入一集比一集精彩，再加上演员们都是戏骨，刻画的历史人物极其逼真。另外，也不得不说群众演员演的也极其认真，可见本剧导演&lt;a href=&quot;http://baike.baidu.com/item/张黎/2786610&quot;&gt;张黎&lt;/a&gt;功底之深。这个剧可要比当下也很流行的《大秦帝国之崛起》拍的要好上不止好几倍。&lt;/p&gt;

&lt;p&gt;　　那么，我为什么想写一篇多后感呢？究其原因是因为在深入看这部剧的同时也让我不得不让我积极的思考一个问题，剧中人物的性格与做事动机皆由之前的某个细节或者消息而引出，这些消息在剧中是有过交代的 ，在我看的过程中确实没有引起我的注意，但随着事件的发生当我再倒回去重新看的时候发现自己确实没有理解剧中已经明确表达过的含义。这种情况不是一两次而已，基本上本剧每一集都会包含大量信息。所以，这让我产生了一种想法，我应该尝试着去写一篇我的理解为好，即便是有些肤浅也好，逻辑不清也罢，只要我用心的去抽丝拔茧的捋一捋自己的思路，事不过三次而，必能给自己一个在思想上的提升。&lt;/p&gt;

&lt;p&gt;　　上面说了那么多，也已经表达出了我的作案动机，剩下的就是我如何去思考了。于是，我重新跟着本剧快速的写下了大纲。
&lt;img src=&quot;https://ooo.0o0.ooo/2017/02/27/58b3030e54da6.jpg&quot; alt=&quot;IMG_0523&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　首先，要想理解剧中每个人物的动机就要先熟络剧中人物的关系。所有人的boss当然是嘉靖皇帝，嘉庆皇帝的要务就是管理国家的同时制衡手下的权势，同时也在为自己的修仙事业坚定不移的花费大笔的钱财。由于嘉庆皇帝几十年的不上朝，国家的所有朝务全权交给内阁来处理，这个关系大家都明白，皇帝本人如若想要修仙就不得不投入大笔的时间去吃丹练仙，那么国家的事务只能找一个部门替他管理，那么内阁就是不二之选。内阁成员由严嵩和徐阶组成，严嵩是内阁首辅，徐阶是次辅兼户部尚书，也就是说严嵩是徐阶的老大，但是徐阶是一直想当首辅的，然而严家的势力极其庞大所以一时也没有好办法。除了内阁是第一集团中的老大以外还有一个部门叫做司礼监，这个部门是由太监组成，司礼监的任务就是照顾皇帝的衣食住行并且也有极其重要的发言权，所以明朝的太监相比于其他朝代都要可怕。司礼监掌印太监是吕芳，也就是司礼监的老大，在他下边有几个秉笔太监，其中包括黄锦和陈洪。由于太监的独特身份，他们深知趋炎附势的重要性，而趋炎附势是他们能够在宫中活下来的本事。这里最趋炎附势的是太监陈洪，他是时刻都想坐上掌印的位置的，所以他时时刻刻在想着能够让吕芳下台，而黄锦却是一名忠厚老实的太监，他对吕芳可谓忠心耿耿。这两个大集团我已经陈述清楚了，还有一个集团就是皇上的儿子裕王，裕王是将来要接替嘉靖位置的人，虽然现在说话没有人会听，但是大家都会对他客客气气。而裕王最需要制衡的对象就是严势力，裕王手下有户部侍郎高拱，兵部侍郎张居正。严嵩手下有他儿子吏部工部侍郎严世蕃。另外，还有一些比较重要的人物像太监杨金水，商人沈一石等我就不一一说了，只要知道杨金水是给皇上办事就行了。在明确了人物关系以后，我们就可以按照剧情的发展来抽丝拔茧的分析剧中人物的动机了。&lt;/p&gt;

&lt;p&gt;　　所有的一切都是由于国库亏空，皇帝开启“改稻为桑”的国策开始。大致的剧情就是国策已经由内阁商讨出来以后，下发到浙江去实行。但是，老百姓本来就背着苛监杂税的重担还要谋生计，这朝廷说的政策要老百姓说改就改，那么粮食也没产出自己又产不出桑，只能抗议不干活。朝廷的政策执行不下去，贪官污吏就使尽各种伤天害理的办法来让老百姓卖田，让大户收田。然而，大户压价买，老百姓不肯卖。事情就僵住了。这一来浙江的两位贪官何茂才与郑必昌在严的势力支持下毁坝淹田，后又被胡宗宪分流救民，制止了所有的郡县被淹，只淹了淳安建德两县。最终，引出了本剧主角&lt;a href=&quot;http://baike.baidu.com/view/7575.htm&quot;&gt;海瑞&lt;/a&gt;与海瑞将来的生死之交&lt;a href=&quot;http://baike.baidu.com/link?url=iRK8Y11ou8SvuzdImCsh_9lrijr4YLSmsveWVXr-C9Q4YfxIvhDGDh75Vg1hctstDRrUpqIl4eRtNgyzSp5oriFe9UjaFHALep2g72ZGMkgEmVv6ipBjjAWXmKUh24pW&quot;&gt;王用汲&lt;/a&gt;上任淳安建德两县的知县。而后，随着海瑞不要命的对刚腐败之风，终于刚死了皇上。&lt;/p&gt;

&lt;p&gt;　　每次看到海瑞直面挑战腐败风气的时候，我都会为他叫好。一是佩服这种刚正不阿的人，二是佩服海瑞的知识，三是看到一个渺小的力量在对抗着强大的不正之风还能取得上风，随着一声巨吼把他们打的体无完肤。海瑞刚出来的时候是刚何茂才郑必昌2人，这两个人确实罪大滔天，被海瑞这么刚确实看的过瘾，让我连连叫好。慢慢的，随着此2人被绳之以法后，新上任的杭州巡抚赵贞吉，因为东海战事急需用钱购粮，而国库亏空发不出军粮，赵贞吉只能用一些不正规的手段解决，然而海瑞知道以后仍是站在百姓的角度出发制止赵贞吉。当看到这里的时候有个疑问徘徊在我的脑中，海瑞这样做到底是对不对呢？我想万事皆有正反两个方面，不能同一而论。那么评判海瑞对与不对就要分事，海瑞的刚正不阿在什么事情上是对的，在什么事情上是不对的。在贪官污吏贪污枉法之事上那么海瑞是真正的替百姓做主，这事儿做的对。但在国有外乱内无良策之下，赵贞吉做出出格之事海瑞还照刚不误，那就有些不食人间烟火了。然而海瑞是站在道德的最高点上做事，君臣确实无话可说。可是，由于当时的时局动荡，大家都在伺机而攀附权贵的情况下，海瑞的存在确实与别人格格不入。让我们试想如果海瑞是你的朋友，当你做了有违道德的事情的话，他会按照公认的道德标准批的你体无完肤，我想尽管他是你再要好的朋友，以后做事你都会避而远之了吧。中国的社会自古就是讲究人脉的社会，古往今来哪个权贵之人不希望自己人能够占据更多的话语权的位置？这说明人都是需要团体的，就连现在的世界各国也在不断拉拢能够帮助自己的国家吧。俗话说朋友多了好办事，但是如果你身边有个海瑞，他随时都有可能站在道德的制高点上去评判你，那这岂不是自己给自己身边留下了一个定时炸弹？&lt;/p&gt;

&lt;p&gt;　　六心居酱菜铺每年都会通过严嵩之手献给皇帝20坛酱菜。可是在严党倒台之际，平时多少人都梦寐以求想找严嵩题块字匾，但是现在严嵩主动给六心居题匾，六心居都不敢要了。这是为什么呢？因为大家都知道严党倒台以后朝廷会清算严党，在这个时候大家躲还来不及呢，更别说要让严嵩题块匾了。可是，严嵩偏偏题了，而后皇上在这个心上画了一撇哼了六必居。自此，六必居的生意一下子变的门可罗雀了。海瑞来京上任的时候路过了六必居，他明知道六必居是皇上在心上加了一撇，他还是最后给这匾做了六句话的解释。像这种事情不论在哪个朝代就连现如今，也不是一般人能够做的出来的吧。然而，海瑞就能够做得出来。可他为什么能够做得出来呢？皆因为他想为六必居伸冤。而后，当皇上知道了次事以后龙颜大怒，但是也拿他没什么办法，最后只得将海瑞写的这六句话让工匠们赶紧刻出匾来和六必居那三个字一同悬在门梁之上。皇上这么做可谓是聪明至极，其实皇上比谁都明白，之前是自己做错了，经海瑞那么一闹自己才发现原来给老百姓开的酱菜脯带来了多大的灾难，然而身为一国之君又不能公开给一名举人道歉，将这六句话刻成匾算是一个折中的办法。我想说的不是嘉靖要比海瑞聪明，而是嘉靖知道如何维护双方的关系。那天和别人聊天，聊到了道家法家和儒家。人家就告诉我很多管理的行家都有一种共识也是很多较为理想的管理层级定位：基层干部做“法家”，中层干部做“儒家”，高层领导做“道家”。法家主张“法制”，儒家主张“德志”而道家主张“无为而治”，这也是嘉靖皇帝一直提倡的口号：无为而治。我们可以看看现如今的整个管理阶层其实也蕴藏着这个理论。最小的官是用制度来管理，中层领导则是主张用以德感人，而最高的领导都是具有超前的理念，正确的决策。&lt;a href=&quot;http://cache.baiducontent.com/c?m=9f65cb4a8c8507ed4fece763105392230e54f7366596964c68d4e419ce3b46120720b8ea79750d5c8896212d46f81c1bb9ac68292a497be4c699d21981eeda7268db7b6a23409b4717d112abdc46529b66cf04fdea44a7ecff25e3a9c5a2dd4323bb44737a97f0fa4d7011dd1cfa034192b1ef48025f61ad9c3a72885e6059ee3436b6&amp;amp;p=882a9644d0d017fc57ef8a3b424d8d&amp;amp;newp=cb7fd502a4904ead13bd9b7d0c108c231610db2151d6d5156b82c825d7331b001c3bbfb423231b07d1c27e6405af4d56ecf03d77370025a3dda5c91d9fb4c57479c3&amp;amp;user=baidu&amp;amp;fm=sc&amp;amp;query=%B5%C0%BC%D2+%B7%A8%BC%D2+%C8%E5%BC%D2&amp;amp;qid=e3ef385a00035702&amp;amp;p1=9&quot;&gt;查看更多&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;　　像海瑞这种个性的人在社会上当然会有，但确实凤毛菱角。正因为他的刚正不阿对民那才叫青天大老爷，对上级可谓心头大患。如果，社会上像海瑞这样的人到处都是，不知道这样的社会会是什么模样？古话说每个人心中都是圣贤的，也就是说每个人心底都是有道德标准的，只是有高有低而已。当高标准道德碰见低标准道德时，不能说低标准道德就为缺德，而低标准道德也不会把高标准道德作为楷模。那世间会有一种尺子能给出道德的标准吗？我想是有的，因为我们知道百善孝为先。这个孝字就是高标准道德和低标准道德都共有的。因为他们俩是有交集的，所以他们之间肯定会有标准。我们不妨考虑自己所站的角度来衡量他们，这也是我能想到的第一种衡量标准。也就是说你站的越高，所受到的道德标准约束就约多。你站的越低，所受到的道德标准就约少。让一个捡破烂的和一个公务员交谈，你会发现他们所处的层次是不一样的，自然说出来的话就不一样，正因为他们所处的角度不一样，才使他们能够说出不一样的话来。所以，海瑞说到底还是一个举人，虽有真才实学，但是不懂得韬光养晦之道，正因为他所站的角度都是从民出发，所以天生站的低，看的就近，只是把百姓的需求当成头等大事，而没有顾全国家之道。嘉靖是皇帝自然站的高看得远，他站的角度自然是以国家出发，所以对事物看的更加透彻。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="thinking" /><category term="思考,观后感" /><summary type="html">有了门，我们可以出去;有了窗，我们可以不必出去。 –钱钟书</summary></entry><entry><title type="html">在centos下升级php的经历</title><link href="http://naffan.cn/tech/2017/02/24/1.html" rel="alternate" type="text/html" title="在centos下升级php的经历" /><published>2017-02-24T00:00:00+08:00</published><updated>2017-02-24T00:00:00+08:00</updated><id>http://naffan.cn/tech/2017/02/24/1</id><content type="html" xml:base="http://naffan.cn/tech/2017/02/24/1.html">&lt;p&gt;公司的服务器很多很杂，php的版本也不尽相同。今天，遇到本来项目是php5.6的。但是，上到测试机上就报错，说是中括号作为数组定义不能够解析。后来查了一下发现这个是php版本的问题，紧接着赶紧到服务器上看了一下，果然是服务器上的php版本是php5.3.3的。那么，接下来就是准备升级服务器上的php了。由于这个服务器之前人家是用yum安装的，我通过&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;yum list installed | grep php
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;查看到了服务器上的php版本。于是，将所有查到有关于php’的全部删除了。紧接着就要下php56的安装包了。通过&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;yum install php56
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;发现，yum找不到php56的安装包。这是yum源的问题，我们需要将新源添加给yum。
首先，我需要确定centos的版本。&lt;a href=&quot;http://www.cnblogs.com/YangJieCheng/p/5907166.html&quot;&gt;阅读更多&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;cat /etc/issue
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;发现我们的服务器是centos6的。&lt;a href=&quot;http://blog.csdn.net/ysydao/article/details/51388397&quot;&gt;阅读更多&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Centos 5.x
rpm -Uvh http://mirror.webtatic.com/yum/el5/latest.rpm
CentOs 6.x
rpm -Uvh http://mirror.webtatic.com/yum/el6/latest.rpm
CentOs 7.X
rpm -Uvh https://mirror.webtatic.com/yum/el7/epel-release.rpm
rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;将源添加成功以后，开始安装php56。安装成功。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;yum install php56
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;重启php-fpm后，发现php的版本仍然停留在php5.3.3上。这是因为php-fpm是管理php进程的容器。它相当于承载php的虚拟机一样。我们需要重启它才能够重新加载php的各项配置。但是目前我的php版本是5.6，php-fpm版本是5.3.3。所以，重启起来照样php的版本还是5.3.3 。&lt;a href=&quot;http://www.cnblogs.com/blackpuppy/p/upgrade_php_from_54_to_55_on_centos.html&quot;&gt;阅读更多&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;yum install php56w-fpm 
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这样，就完成了php-fpm的安装。重启php-fpm后，php版本升级到php5.6。&lt;a href=&quot;http://www.cnblogs.com/zdz8207/p/3765579.html&quot;&gt;阅读更多&lt;/a&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;service php-fpm restart
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;后发现php缺少mysqli的扩展。而php5.6的扩展又不像以前那样只把extension前面的分号去除就行。现在都需要自己安装了。但是在安装的过程中出现冲突情况：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/02/24/58afbaceed5c6.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;我们可以采用&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;yum install php56w-mysql
&lt;/code&gt;&lt;/pre&gt;</content><author><name>张一帆</name></author><category term="tech" /><category term="linux,centos,php" /><summary type="html">公司的服务器很多很杂，php的版本也不尽相同。今天，遇到本来项目是php5.6的。但是，上到测试机上就报错，说是中括号作为数组定义不能够解析。后来查了一下发现这个是php版本的问题，紧接着赶紧到服务器上看了一下，果然是服务器上的php版本是php5.3.3的。那么，接下来就是准备升级服务器上的php了。由于这个服务器之前人家是用yum安装的，我通过</summary></entry><entry><title type="html">开通这个专栏的意义</title><link href="http://naffan.cn/thinking/2017/02/08/01.html" rel="alternate" type="text/html" title="开通这个专栏的意义" /><published>2017-02-08T00:00:00+08:00</published><updated>2017-02-08T00:00:00+08:00</updated><id>http://naffan.cn/thinking/2017/02/08/01</id><content type="html" xml:base="http://naffan.cn/thinking/2017/02/08/01.html">&lt;p&gt;　　近些年一直在想着多读点能够提升自己思维的书籍并且自己也做了一些尝试。因为，我觉得人越来越大思维就不能对所有的事凭借着还是稚嫩的逻辑去理解，社会上的事情往往不那么简单，再简单的事情背后都会有着为什么会这样发生的各种原因。最近，也是遇到了一些事情让自己对思考的需求最大化。所以，我就开通了这个栏目。希望借着在自己生活中的点点滴滴都能够引起我足够的重视，再通过自己的思考得出真正经过加工的结果。&lt;/p&gt;

&lt;p&gt;　　开通这个专栏的第一件事情就是要为它取个名字，取名字这种事也很让人伤脑筋的，各种关于思考的词汇仿佛怕被你找到一样，刚刚还在你眼前晃荡，这一下子就消失的无影无踪，任凭你怎么去找它，它就是不让你找到。后来，终于找到了沈思默想这个词组，沈思默想意既静静地深思，我想思考是需要静下心来慢慢琢磨出所以然，所以此词最好。并且沈思通深思，对我来说有特别的纪念意义。最终，我将这个词组当做了这个栏目的栏目名称。&lt;/p&gt;

&lt;p&gt;　　有的时候在你想到一些东西的时候想要立刻将其记录下来，然而当你提起笔来的时候却发现之前的想法早已飘散了。这其实是一种问题，这说明自己的思维不具有连贯性。这样的事情发生的越多就越说明这种能力越弱，对于那些编辑或者文工的公众来说这个能力就相当的强，所以他们能言善辩，能够说出更加有说服力的句子来。那么，像我们有这方面弱势的人就需要勤加练习。只有这样，我们才能够让自己的思维更加连贯，让自己的思考更加深刻。这也就是我想开通这个专栏的真正意义所在。&lt;/p&gt;

&lt;p&gt;　　望自己能够在今后的生活中不断的填充起这个栏目的内容，可以写出一些让大家都愿意读且能够激发读者们自己思考的文章来。虽然知道这件事情很难，但是难也要坚持住，前期会是痛苦的，但是习惯了以后就会变得越加轻松且游刃有余起来，给自己的收获也会是大大的。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="thinking" /><category term="思考" /><summary type="html">　　近些年一直在想着多读点能够提升自己思维的书籍并且自己也做了一些尝试。因为，我觉得人越来越大思维就不能对所有的事凭借着还是稚嫩的逻辑去理解，社会上的事情往往不那么简单，再简单的事情背后都会有着为什么会这样发生的各种原因。最近，也是遇到了一些事情让自己对思考的需求最大化。所以，我就开通了这个栏目。希望借着在自己生活中的点点滴滴都能够引起我足够的重视，再通过自己的思考得出真正经过加工的结果。</summary></entry><entry><title type="html">通过nodejs搭建客服系统还有闲谈</title><link href="http://naffan.cn/tech/2017/01/25/1.html" rel="alternate" type="text/html" title="通过nodejs搭建客服系统还有闲谈" /><published>2017-01-25T00:00:00+08:00</published><updated>2017-01-25T00:00:00+08:00</updated><id>http://naffan.cn/tech/2017/01/25/1</id><content type="html" xml:base="http://naffan.cn/tech/2017/01/25/1.html">&lt;blockquote&gt;
  &lt;p&gt;本文所述的游云客服系统，网址为&lt;a href=&quot;http://cs.17youyun.com&quot;&gt;cs.17youyun.com&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　从12月开始，公司要我们为宝库搭建一套客服系统。本来是做通讯的我们，因为自身业务单一，技术经验少，推广比不过竞品，再加上本身通讯行业的技术壁垒较高，导致我们的产品战略从年初计划的对外产品慢慢转向了对内的支持服务。后来，公司专一重点项目后，我们也即将成为一个转型部门。在这一节骨眼上我们渴望获得一次机会进行证明，同时也期望能够在2016年底给我们自己做一个收官。经过看起来不是很顺利的沟通后，宝库同意将对客服的需求交托于我们部门做，所以这也是我们能够称的上是救命稻草的一线希望。&lt;/p&gt;

&lt;p&gt;　　在年中我们在运营着自己的sdk，这个sdk是给开发人员对接移动端push需求而开发的。除了push功能以外，我们也开发着voip以及聊天室等项目。&lt;a href=&quot;www.17youyun.com&quot;&gt;游云网站&lt;/a&gt;是我们呈现给开发者的接入网站，开发者在接入的时候可以在这个网站中看到各种定制化的推送服务。游云网站是由我一人开发起来的，虽然与竞品网站比起来有些小巫见大巫，但是也是充满着对通讯行业的一些窥视。后因工作需要，我们需要给游云接入一个web版的demo，望借以此呈现个开发者用户一个更加直观的体验，所以后来就有了&lt;a href=&quot;web.17youyun.com&quot;&gt;web游云&lt;/a&gt;这个功能，这个网站是利用cometd技术做的，因为公司前身是当年在新浪红极一时的项目-微米。到现在我还记得，当年在新浪的时候上级压下来的任务就是每天都要登录微米发信息，而且那年年会上还专门有个项目奖颁发给了微米，可谁又能够想到微米团队内部出现分歧，技术团队叛变，造成彭极其尴尬，最终死的很惨。话说回来，自从工作以来已经两次接触了cometd这个玩意了。记得第一次接触这玩意的时候自己还是个初出茅庐的小伙子，那个时候正好要对&lt;a href=&quot;kan.sina.com&quot;&gt;看游戏&lt;/a&gt;进行大改版。后来，研究了半天最终也没搞清楚个大概，只能沿着老人们的代码一点一点调试，现在回忆起来那个时候的调试方法极其笨拙，再加上自己对项目的理解很差，所以虽然顺利改完版了，但是对自己的成长真的没有太多，只能说自己知道这个是什么玩意了。现在时间已经过去了4年了，再来看cometd多少还是有些抵触的。可是，项目压下来自己也没有办法，而且这次后端的网关还是用java写的，这让我又整了套java环境，两套环境在同一台电脑上跑，真是太费劲了。最终，还是搭起来了这个网站，也能够实现一些基本的简单功能了，可是后来由于本部门的java团队忙于应付宝库的需求，最终不能提供给我及时的响应，所以也就暂时搁浅了。&lt;/p&gt;

&lt;p&gt;　　随着公司大战略的转移，慢慢的我们通讯部门就慢慢的变的越来越不重要了。再加上一年来项目给外面项目对接的缓慢并且总是不能正常使用让决策层变得越发的艰难了。最终，公司要求我们部门从产品线转化为支持性部门，将功能给上海总公司提供支持。也就是说领导们不期望这个项目可以去赚钱了，但是又不干做了那么久了，那么就公司内部的产品谁需要通信功能，那么我们部门就跟他们进行对接。可想而知，这样做的时间越长项目的立锥之地就越少。由于我是部门的一个开发工程师，抱着不在其位不谋其政的态度静观其变。后来，大概是16年的11月份，部门争取到了宝库的客服需求。我们就做起客服系统来了。&lt;/p&gt;

&lt;p&gt;　　起先，我们人员安排上比较薄弱。几个java负责服务端，想要将原来cometd转变成websocket。另外，我们部门的C老大也一直在帮助java们整理开发服务功能，所以必定会偏向java。而作为客服是需要一套前端框架的，这个框架是需要js的，而我从事于php，对js当然要比他们多，索性就安排我来开发js了。&lt;/p&gt;

&lt;p&gt;　　起初，在选择方案上我就非常头疼。js的页面级应用对我来说并不是很难，我一个人完全应付的来。但是，对已一套客服系统来说，我开始是不知所措的。于是，我就一边去研究websocket功能的同时一边去github上找客服功能的源代码。在github上更多的是聊天室功能，我费了半天劲将github上的一个个开源程序clone到本机并运行起来却发现功能要不是很简单，要不就是从需求上就不能满足。这两我很头疼，但是最终我还是找到了一个带着聊天框且支持多聊天窗口的&lt;a href=&quot;https://github.com/xunull/socketio-chat&quot;&gt;开源程序&lt;/a&gt;。搭建起来是这个样子的：&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/25/58885a9ec28b4.png&quot; alt=&quot;chatPi&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　通过阅读作者的代码发现这个程序是通过redis来进行聊天内容的同步的。也就是redis为每一个接入的用户增加一个id为键的堆栈，内容就是用户的聊天内容，说话的对象以及时间。页面渲染的数据是通过nodejs服务端的逻辑发送到websocket上，再由页面的js渲染出来。这样其实已经满足了我的基本功能了，只是实现方式不太一样。我需要做的就是将redis的功能去除，而发送消息的地方改成向nodejs中的socket.io发送即可。至于后续逻辑就在nodejs服务端中去补充即可。但是，后来java也直接找到了一个开源的websocket框架并且搭起来了，与其让我一个人写前端+后端还不如我把后端撇给java做，毕竟java是两个人负责。于是，我这里只需要做前端的html+js即可。虽然我只负责了html+js，但是我还是留着nodejs服务端的功能，运行这个项目还是需要启动nodejs服务的，原因当然是为了今后的数据我自己也可以处理，这样更加安全且方便。&lt;/p&gt;

&lt;p&gt;　　慢慢地，产品设计的需求也一步一步的满足。比如，上传图片、获取历史消息等。然而，页面还停留在这种乱乱的界面呢。为了达到更进一步，我利用bootstrap重新做了一套页面，套上以后确实感觉很nice。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/25/58885a9e24473.png&quot; alt=&quot;chatafte&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　好了，基础的页面也有了，剩下的就是完成各种需求了。websocket有几种基础行为：onopen，onclose，onmessage，onerror。当websocket连接成功的时候会进入onopen，断开进入onclose，有消息发送过来进入onmessage。具体收到消息是什么消息以及之后的逻辑是什么都需要在onmessage中完成。我和java约定数据格式大概是这样子的:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;{
    &quot;type&quot;: &quot;action&quot;, //可触发事件的，param中参数原样返回
    &quot;content&quot;: &quot;是什么材质的？&quot;,
    &quot;params&quot;: {
        &quot;to&quot;: &quot;robot&quot;
        &quot;id&quot;: 1,
        &quot;groupId&quot;: 1,
        &quot;prio&quot;: 1, // 排序 priority
        &quot;level&quot;: 1,
        &quot;createTime&quot;: 1480931117000
    }
}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;　　我们可以通过type来区分服务端发过来的是何种消息，也就可以实现比如聊天消息，通知消息，心跳消息等的区分了。至于onmessage中是怎么写完全可以凭自己公司的需求去写了。&lt;/p&gt;

&lt;script async=&quot;&quot; src=&quot;//jsfiddle.net/naffan/1jtdf5hk/embed/&quot;&gt;&lt;/script&gt;

&lt;p&gt;　　onmessage中我是通过obj（是java传给我的数据）中的type值（需要json解析出数据）来区分消息的类型，比如用户进入（entercs）、用户推出（leavecs）、消息（message，其中具体是图片消息还是文字消息之类的可以通过content中的type字段来区分）、剔除用户（kill_user，这个就是我们产品要求的逻辑了，也是个性化的消息类型了）等等。可以看到我在接收到message的时候调用了directive.receive(data)方法，这个方法最终的执行逻辑是这样的：&lt;/p&gt;

&lt;script async=&quot;&quot; src=&quot;//jsfiddle.net/naffan/w1sdx95m/embed/&quot;&gt;&lt;/script&gt;

&lt;p&gt;　　首先，响提示音。然后需要判断当前发送过来消息的人是不是我打开当前窗口的人，如果不是就需要将用户列表增加一条未读消息的提示数字，之后不论是否都将信息添加到发送人的窗口中。那什么叫做发送人的窗口呢？我们可以这样理解，每个发送人都要有个存储聊天内容的页面，因为你现在聊天中的用户时可以直接看到他的消息。然而，那些已经接入了但是又不是你当前聊天的对象的信息也需要记录下来的，当我们切换聊天窗口时我们是需要看到他之前留下的信息的。这个功能起初git上的开源程序没有考虑到，所以我需要增加这块功能。大体思想是这样的，我用html写一个div的聊天窗口框架出来，每当一个用户接入的时候，我都将这个div里面的内容clone给一个变量，然后再声明一个MAP（其实就是在内存中开辟一个空间用来做hash存储），用这个用户的id为键，clone的变量作为值保存在其中。这样我就能够随时通过map键的方法将用户聊天窗口存起来了，当用户有信息过来的时候我将这个变量取出来，再往html中的最底部的dom标签前增加信息内容，最后再存入map中。这样我们就可以实现页面级的切换窗口查看消息内容的需求。哦对，忘了说了，那怎么记录当前聊天的用户id呢？当然，是声明个全局的js变量喽，每次切换聊天的用户id时，就将这个id替换到这个变量中。除了这个当前聊天用户的id的变量以外，还需要两个全局变量：一个是用来存储我们登录的客服id的变量，一个是用来存储已经接入用户的id的变量，这个变量可以作为记录未读数，当你切换到这个用户聊天时将未读数清零。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/26/5889fac0d3001.png&quot; alt=&quot;QQ20170126-130958@2x&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　当用户接入进来的时候，页面上就应该有响应的动作，那就是用户列表中就会增加这个新接入用户的提示，就如同上图中的用户2，用户3所示。在js上我们可以采取用jquery来写的方法，比如在发现有用户接入时我们append到用户1的html下方。但是，这样比较麻烦，因为我们需要去专门写这个方法。就因为我觉得麻烦所以我想找一个能不能有个能够相对动态的方法呢？最终我找到angularJs。angularJS是一个能够进行双向绑定的js框架，只要你在js中声明了哪个html需要进行监听，angularJS就会自动的帮你完成双向绑定功能，也即是说他会自动的添加新用户接入的提示。下面这段代码就是将用户列表这一块的html作为angularJs的侦听对象，之后再绑定一个click的方法，用来更新js中变量记录的数值以及将用户对应的聊天框显示出来。&lt;/p&gt;

&lt;script async=&quot;&quot; src=&quot;//jsfiddle.net/naffan/w5bexygj/embed/&quot;&gt;&lt;/script&gt;

&lt;p&gt;　　在上面的代码中还有一些更新localstorage的代码，这块代码的用途我也需要说明一下啊。由于业务产品的需求，当用户退出时不会自动在客服系统中退出，只有客服人员能够关闭客户的接入（现在的客服产品，商家都是要求客服不能主动停止会话的，但是我们的产品说是因为我们的需求方的特殊需求，所以只能这样了）。那么问题来了，js是页面的语言，一旦刷新以前存在页面js中的信息皆会不复存在，那么我们如何存储曾经接入又没有被客服关闭的会话呢？因为html5出现以后，现在的浏览器也都支持了本地存储功能，也就是localstorage。localstorage是根据域名来保存的键值对，value只支持字符串。这正好可以帮我们实现数据的存储，于是我将用户的信息都通过key来存储到了这里。只是，在保存和查询的动作上需要进行json字符串的字符化和对象化。&lt;/p&gt;

&lt;p&gt;　　很多功能我们不光需要自己写，更多的可以去git上去搜索已经很有价值的插件。比如上传文件的组件，查看图片的缩略图的功能。我就是用的&lt;a href=&quot;https://github.com/jfeldstein/jQuery.AjaxFileUpload.js&quot;&gt;https://github.com/jfeldstein/jQuery.AjaxFileUpload.js&lt;/a&gt;用来做文件上传，&lt;a href=&quot;https://github.com/fengyuanchen/viewer&quot;&gt;viewer&lt;/a&gt;用来做图片的缩略图。后来，我们又添加了获取历史记录的功能，我们想要实现qq这样的当滚动条到达最顶部的时候会拉出历史记录并且滚动条还原到按照增加的记录长度的比例的位置。我也在git上找了一些这样的下拉触发事件的插件，但是没有满意的，于是我就自己写了这段代码。&lt;/p&gt;

&lt;script async=&quot;&quot; src=&quot;//jsfiddle.net/naffan/5xceoywu/embed/&quot;&gt;&lt;/script&gt;

&lt;p&gt;　　当然，我们的系统设计的还不是很好。随着代码越写越多，我越发的觉得当时设计的架构非常差，我要是想改一地方，有很多地方都会牵扯到，所以就不是改一个地方这么简单了。我现在需要的是提高自己的js能力，去学习js的框架知识，应该马上对这个系统进行代码重构。&lt;/p&gt;

&lt;p&gt;　　另外，我刚开始说过，我采用的是nodejs，但是服务端我并没有用。这就造成了一个问题，当我需要调用java接口的时候，由于java接口的域名和客服系统的域名不一样，这样就遇到了跨域问题。跨域是现在的浏览器都会禁止的操作，所以我需要java在出接口的时候，返回给我的json串外还需要帮我增加一个嵌套，如jsoncallback[‘java返回的json’]。这个设计是不好的，虽然能够暂时符合目前的需求，但是终归还是需要经过nodejs的服务层一趟的，因为安全，以为敏捷。&lt;/p&gt;

&lt;p&gt;　　最后，我还要说一下。我这个项目用到了2个方便开发和管理的工具。一个是pm2，一个是webpack。具体两个是干吗用的，我大概说一下。pm2是一个可视化的nodejs进程管理工具，他可以帮助你实时的更新应用服务，这就给你省去了每次更改nodejs代码时总需要频繁的重启node服务（–watch）。由于我们的项目是运行在线上的，所以环境也有几套。当我更改代码的时候我关心的是代码如何书写，并不关心环境。所以，我还需要动态的去区分代码所处的服务器环境，哪个是测试环境，哪个是生产环境。那么，我通过官网的手册，找到了pm2是可以通过参数来区分服务器环境的。我们只需要声明一个配置文件ecosystem.config.js。在这里面定义参数所对应的环境，那么在我们启动pm2的时候我们只需要将代表当前环境的参数输入即可，这些小工具能够帮助自己更加方便的进行开发以及维护。webpack是一个js代码整合器，它主要的功能就是通过js的互相引用，他可以只能的侦测到所用到的js并且可以将所有的js整合到一个文件中，便于开发者管理。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="tech" /><category term="js,nodejs,websocket,angular,webpack,客服" /><summary type="html">本文所述的游云客服系统，网址为cs.17youyun.com</summary></entry><entry><title type="html">仙本那潜水之诗巴丹最终站</title><link href="http://naffan.cn/life/2017/01/07/1.html" rel="alternate" type="text/html" title="仙本那潜水之诗巴丹最终站" /><published>2017-01-07T00:00:00+08:00</published><updated>2017-01-07T00:00:00+08:00</updated><id>http://naffan.cn/life/2017/01/07/1</id><content type="html" xml:base="http://naffan.cn/life/2017/01/07/1.html">&lt;blockquote&gt;
  &lt;p&gt;诗巴丹坐落于东马来西亚西南，5米的浅滩之后就是垂直落下600至700米深的湛蓝深海，被誉为世界上“海滨潜水”之最&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　经历了那么多次的潜水，我终于拿到了ow和aow的证书，这也就说明我是一位合格的世界级潜水员啦，虽然我觉得这在我以后的说活中并没有啥卵用，但是我还是为了这个证书高兴了一段时间呢。现在，我们终于要进入一个更高级的地方去潜水啦，那就是诗巴丹。&lt;/p&gt;

&lt;p&gt;　　在来仙本那之前，我们就有了解到仙本那这块有一个岛屿是潜水员们的圣地，世界各地的潜水员都慕名而来，因为这个地方水下环境相当漂亮。这一天，我们怀着激动地心情从梦中醒来，我们知道就在今天我们会迎来世界之最的挑战以及世界级的水下美景。我们7：50在潜店集合，8：00准时上船。大约经过了1个小时的船程，登上了这座神秘而神奇的岛屿。（我上岛的时候因为太过于激动，忘记照像了，所以我直接找了张图片哈哈）其实诗巴丹这个岛屿很小很小，大小如同一个大楼（理想国际大厦）横截面面积那么大，岛上我们没有上去转，因为太小了，只是吃中午饭的时候在岛上的餐厅吃了一顿。诗巴丹是对每天游客数量有限制的，一天也就那么多游客能够来到诗巴丹，这也是为了保护这片海洋原始环境的一个不错的做法，现在很多国家的名胜古迹都已经采取这样的做法了，倒不稀奇。中国也是，北京的司马台长城就在古水北镇里面也是有游客限制的。不过这样的限制有他的好也有他的不好，好就是你去玩的时候环境非常幽静不会那么多人。而不好就是都得提前预定，有可能耽搁行程。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://c2-q.mafengwo.net/s5/M00/B3/95/wKgB3FEuMkWAbE7DAAbhHHnhZto89.jpeg?imageMogr2%2Fthumbnail%2F%21690x450r%2Fgravity%2FCenter%2Fcrop%2F%21690x450%2Fquality%2F90%7Cwatermark%2F1%2Fimage%2FaHR0cDovL24xLXEubWFmZW5nd28ubmV0L3M4L00wMC82Mi83OS93S2dCcFZodUN6Q0FJa3RIQUFBTkc4TDlCUU0xNjAucG5n%2Fgravity%2FNorthWest%2Fdx%2F20%2Fdy%2F21&quot; alt=&quot;诗巴丹&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　我们去诗巴丹的前一天下了雨，所以水下很模糊，很多东西不像宣传图片上那那样透明。不过，我们来到这一天也都看到了隆头鹦哥、狼群风暴、杰克风暴，应该算是没有遗憾啦。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://c4-q.mafengwo.net/s5/M00/98/33/wKgB21B2d7Dj7RJ3AAzzrveLzjU08.jpeg?imageMogr2%2Fthumbnail%2F%21300x450r%2Fgravity%2FCenter%2Fcrop%2F%21300x450%2Fquality%2F90%7Cwatermark%2F1%2Fimage%2FaHR0cDovL24xLXEubWFmZW5nd28ubmV0L3M4L00wMC82Mi83OS93S2dCcFZodUN6Q0FJa3RIQUFBTkc4TDlCUU0xNjAucG5n%2Fgravity%2FNorthWest%2Fdx%2F20%2Fdy%2F21&quot; alt=&quot;狼群风暴&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://n3-q.mafengwo.net/s5/M00/18/00/wKgB3FCfQ1aAWrw3AALBUnIlexQ39.jpeg?imageMogr2%2Fthumbnail%2F%21690x450r%2Fgravity%2FCenter%2Fcrop%2F%21690x450%2Fquality%2F90%7Cwatermark%2F1%2Fimage%2FaHR0cDovL24xLXEubWFmZW5nd28ubmV0L3M4L00wMC82Mi83OS93S2dCcFZodUN6Q0FJa3RIQUFBTkc4TDlCUU0xNjAucG5n%2Fgravity%2FNorthWest%2Fdx%2F20%2Fdy%2F21&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://n3-q.mafengwo.net/s7/M00/9A/91/wKgB6lRPBy-AfI4VAAZRhzGasX087.jpeg?imageMogr2%2Fthumbnail%2F%21300x450r%2Fgravity%2FCenter%2Fcrop%2F%21300x450%2Fquality%2F90%7Cwatermark%2F1%2Fimage%2FaHR0cDovL24xLXEubWFmZW5nd28ubmV0L3M4L00wMC82Mi83OS93S2dCcFZodUN6Q0FJa3RIQUFBTkc4TDlCUU0xNjAucG5n%2Fgravity%2FNorthWest%2Fdx%2F20%2Fdy%2F21&quot; alt=&quot;隆头鹦哥&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://c3-q.mafengwo.net/s8/M00/4D/83/wKgBpVVlykWAX_S6AAiuUOmrZpw40.jpeg?imageMogr2%2Fthumbnail%2F%21690x450r%2Fgravity%2FCenter%2Fcrop%2F%21690x450%2Fquality%2F90%7Cwatermark%2F1%2Fimage%2FaHR0cDovL24xLXEubWFmZW5nd28ubmV0L3M4L00wMC82Mi83OS93S2dCcFZodUN6Q0FJa3RIQUFBTkc4TDlCUU0xNjAucG5n%2Fgravity%2FNorthWest%2Fdx%2F20%2Fdy%2F21&quot; alt=&quot;杰克风暴&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　除了看到了这些鱼群，我们还体验到了在水下悬崖峭壁旁潜浮的感受。那种感受真的很刺激，由于我们潜的比较深，大概在30米左右吧，周围已经黑黑的一片了。我们还进了一个山洞，这个山洞中还有一个图腾类似的东西，真不知道这个洞是否是很久之前的人留下的，但是这个地方时悬崖啊？如果是原始人留下的话，他们是怎么在那么高的悬崖上开凿除山洞来的呢？真是令人不可思议。&lt;/p&gt;

&lt;p&gt;　　一天的诗巴丹之旅已经完成，也就意味着我们的仙本那潜水之行已经完毕。接下来还有一天的时间我们可以选择跳岛游了。因为学完潜水后的一天是不能坐飞机的，需要留下一些时间进行排氮，要不人容易患减压病的。&lt;/p&gt;

&lt;p&gt;　　第二天，我们选择了跳岛游，早上去看了下那巴夭族，这个族非常穷，房子都是自己搭建在海面上的，他们没有电没有淡水，只能靠自己的劳动力去大海里打鱼，去集市上卖或者自己吃。听说，他们是没有国籍的，马来西亚不管他们也不给他们福利，任他们自由生活。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/25/588837bf11a2d.jpg&quot; alt=&quot;IMG_0249&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/25/588837bf67e9d.jpg&quot; alt=&quot;IMG_0312&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　当我们开着船来到这个族的居住区的时候，他们携家带口的划着自家的船过来要吃的。导游跟我们说，他们很穷愿意给他们点东西的可以给，如果不想给直接摆手就行了，他们也不会赖着不走。事实上真的如此，他们虽然穷但是很守规矩，跟中国内地的乞丐要饭们不一样，他们不会拉着你抱着你大腿。我给了他们一瓶水，结果换来的不是谢谢而是更多人来要。。。我确实被吓到了，给点就成了这是觉得你们需要，竟然蹬鼻子上脸这群人。&lt;/p&gt;

&lt;p&gt;　　下午，我们去了珍珠岛登上了这里的600米的山，眺望了一下很多来旅游必照的景色。我也忍不住拍下了这张照片，作为来到这里的纪念哈哈。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/25/588837c02ce4c.jpg&quot; alt=&quot;IMG_0374&quot; /&gt;&lt;/p&gt;</content><author><name>张一帆</name></author><category term="life" /><category term="旅行,马来西亚,自由行,潜水" /><summary type="html">诗巴丹坐落于东马来西亚西南，5米的浅滩之后就是垂直落下600至700米深的湛蓝深海，被誉为世界上“海滨潜水”之最</summary></entry><entry><title type="html">仙本那潜水之ow和aow学习</title><link href="http://naffan.cn/life/2017/01/06/1.html" rel="alternate" type="text/html" title="仙本那潜水之ow和aow学习" /><published>2017-01-06T00:00:00+08:00</published><updated>2017-01-06T00:00:00+08:00</updated><id>http://naffan.cn/life/2017/01/06/1</id><content type="html" xml:base="http://naffan.cn/life/2017/01/06/1.html">&lt;blockquote&gt;
  &lt;p&gt;每天都是一次新的旅行，每一个和我们走过一段的人都值得感激。“生命，不长不短，刚好够用来好好看看这个世界。”&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　通过一天的理论课的培训，让我对今日的实际潜水有了那么一丝丝的期待。记得2015年去菲律宾长滩岛旅行的时候我曾经潜过一次，不过那时是自由潜，有教练随时拎着我在海底来回逛，记得那个时候教练教过我们一些基础的手势用语，到现在还仍然能够记得。所以说，这次真正学习潜水课程的时候我要比其他人学的更快一点。说起来也很滑稽，之前潜的那次上来以后缺氧的难受，难受的头疼的很，都不知道把头放哪才能让自己好受一点，就那次心想再也不潜水了，可是没想到1年以后的我，竟然来到了马来西亚的仙本那正在学习专业的潜水知识并且已经要进入12潜的课程之中。&lt;/p&gt;

&lt;p&gt;　　早上7：20我们从睡梦中醒来，之前跟教练约的是7：50到潜店集合，我们简单的洗漱之后在潜店门前找到了教练。我不得不插一句，我有个毛病，就是每次出远门连着几天的早晨都不能正常的大号，生物钟总是变的特别乱而且大号的感觉总是在我措不及防的情况下发生，最后总闹的我为了大号临时耽误行程时间，这次也不例外。。。不过还好，前几天虽然总是担心大号的感觉会在船上来的特别凶猛。但是，肚子还算争气没有在特别尴尬的场景来场特别尴尬的要求。我们到的第一个岛是军舰岛，军舰岛是多数潜店选择的初级教授课程首选的岛屿，这个岛是细长的从上空鸟瞰像一艘军舰，所以人们给这个岛取名军舰岛。我们刚到这个岛的时候心情很是愉悦，教练首先带着我们上岛签字，然后经过一片小灌木丛来到了我们要进行第一次潜水的地点。这个地点也是很多人选择拍照的地点，因为这个岛的前端是一片白色的沙滩，是极好的照相地点。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43b2892c.jpg&quot; alt=&quot;IMG_0066&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43b1416d.jpg&quot; alt=&quot;IMG_0237&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　我们上了船，大家都开始慌忙的整理起了自己的潜水设备。潜水设备是由6个组件组成：氧气瓶，潜水服，BCD（也就是充气背心，在水里上升下降都得靠他），氧气管（俗称二级头），配重带，脚蹼。这些东西都得自己组装，每次更换这些玩意的时候都是累累的，基本上体力活都在这块。好了，怎么穿这些东西我就不多说了，现在我们要开始潜水了。我们的教练叫sunny，是个瘦高的女孩子，但是看起来骨架子大。首先，我们从浅滩开始学起。学习顺序大概是如何使用装备，基本的手势，如何保命，安全知识，水下如何前进等等。就这样在大太阳下面我们学了将近1小时。因为教练得一个人一个人检查学会没学会所以耗费的时间比较长。然后就是我们需要潜个4米左右去学习水底下的一些水中换面镜的知识等等。我记得当时我不知道如何潜下去在水中来回扑腾导致小腿抽筋，幸好之前学了一些在穿戴着脚蹼的情况下如何给自己按摩的技巧，所以有惊无险的能够继续课程了。我沿着一根锚绳拽着慢慢将自己沉到了水底下，可是却总是稳不住自己总往上浮，后教练帮我才让我稳住跪在了地上。之后就是各种教我们动作，具体教了什么我忘记了。反正，最后学完了上来的时候，到船上就是一顿晕眩以及头疼的要命。我那感觉就好似脑仁一阵子一阵子的胀痛，表情很是狰狞。再加上船体在海浪的起伏只中忽慢忽快，真是有种小伙慢慢扑腾着自己那种说是剧烈疼痛也不是，说是不疼也不是的感受。而且，在这期间还得做哪些换氧气瓶装装备的体力活。我们休息了一会大概有个20分钟左右吧就又下水了，又一轮的循环，上来的时候头又疼的厉害。教练说我的反应很大，不确定是什么原因，后来我自己感觉出这应该是缺氧造成的。原因是我在水底下的呼吸频率过快而且很深，这样就会造成缺氧。如果在陆地上一直深呼吸达半个小时之久也会造成缺氧现象，所以教练一直在说水下呼吸要和在地面上一样。经过一次这么折腾我打算尝试一下，不过经过这么改变的策略以后，确实再上来的时候现象明显减轻，而且在水底下看的东西也比之前好很多，因为注意力不在于呼吸上了而是转移到了水下生物上。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43bc38e7.jpg&quot; alt=&quot;IMG_7930&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43c77f92.jpg&quot; alt=&quot;IMG_7944&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43bb14bb.jpg&quot; alt=&quot;IMG_7960&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　军舰岛周边的水下环境平而稳，珊瑚散落在白色的沙滩上面，就那么自行盛开着。我们跟随者教练到处游走，感受着这对我们来说未知的领域。水下的世界当你聚精会神的去观察的时候，一切都会开始转变，变的更加绚丽多彩，更加栩栩如生。小鱼们自由自在的在水下有用，三五成群的甚是可爱。有些鱼类长的奇形怪状，有些则不是。我深知还发现了一只孤独的鱼从我们入水开始到出水时都一直跟随着我们，它一直保持着安全距离，我过去一点，它就退后一点。我转身离开，它则不离不弃。有可能是我们对他来说很是好奇，而我们却对它没有一点点伤害，让水下的旅行更是美好。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/24/5886f43e88a73.jpg&quot; alt=&quot;GOPR2690&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　上图，是一只有13寸电脑那么大小，长的像一张日本传统戏剧里面男性的样子，有些可怕。它总是在我的身后游啊游啊游。在海底越深就越黑暗，周围的可视度就越短，大约5米的距离吧。再往外就是深蓝色了，之后就是黑色了。如果你一个人的话想想就可怕。&lt;/p&gt;

&lt;p&gt;　　我们队第二天就出现了险情，因为我们队里有个女孩子在教练旁边游，而教练突然发现其他学员的面镜无特别大，所以就转过头去帮助她排除面镜里的雾。然而，这就导致教练没有顾及到旁边的女孩子，而女孩子也没发现，径直的向前游去了。我在队尾看的特别的真切，然而当时我的技术还不好，根本游不到那个女孩子旁边，只能眼睁睁的看着那个女孩消失在深蓝的海底。等教练发现我们少了一个人的时候，用手势问那个女孩子去哪里，我们只能回给她一个前面的手势。这个时候，教练的无助我能够真切的体会到，看着教练着急的动作我也做不出任何事情。教练曾教我们当我们找不到伙伴的时候就在原地寻找1分钟，如果找不到就要升到水面上去寻找。我们迅速升到了水面上，并在接下来的1分钟之内，看到500米开外那个女孩子也升上来了，我们大叫做手势。但是，那个女孩子估计正在惊吓中然而并没有看到我们。所以，她又下潜了想去寻找我们。当我们看到她再次下潜的时候都慌了，这个情况什么事情都有可能发生，我们并不希望悲剧。所以，我们立刻做了决定。由教练带着一个人去寻找，剩下来的2个人游到船上去寻求帮助。这个时候，我不愿再潜下去了，因为在这种地域万一再发生什么情况这就太危险了。所以，我和另一个潜伴游向了船去寻求帮助了。船上的人听到了我们的呼救马上就做出了反映，船长首先叫我们让开，等看到我们离出了与船的螺旋桨安全距离外船长就把船开到了我们所指的方向。接下来的情景我不在船上面了，所以并不知情。幸好，女孩子顺利的找到了。也许她听到了船开过的声音，话说在海底下听船的声音挺恐怖的，那种声音有种朦胧的感觉，那声音用周遭地震的声音来形容一点都不过分。试想如果在海底下要上升的过程中听到了船的声音，你根本就分不清楚声音是从哪个方向传过来的。之后，等我们上船的时候，我看到我们的教练和那个走散的女孩子眼泪就在她们眼睛中打转。这种感觉真的很不好，索性没有发生什么可怕的事情。&lt;/p&gt;

&lt;p&gt;　　接下来的几天，我们都是这么度过的。由于自己慢慢的也适应了潜水，所以入水以后世界变的其妙起来，周遭的世界也有时间去细细体会了。ow就这么顺利的通过了，接下来的aow也就是在不同的岛屿之间来回下潜，也体会了洋流的速度，也在水底下喝了可乐，看了打碎的鸡蛋是什么形状。后来，慢慢发现海底下的世界越来越单调了，除了奇形怪状的珊瑚以外就是自己分不清楚的鱼类，这些鱼类大体都是小型鱼，颜色倒是很鲜艳要比只有深红，蓝，绿的珊瑚好看得多。但是，时间长了人就会审美疲劳，从而对海底下的感觉就一般般了。这段练习的过程我也没啥可以写的了。我们最终期待的只剩下了这段旅程最后的地点-诗巴丹。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="life" /><category term="旅行,马来西亚,自由行,潜水" /><summary type="html">每天都是一次新的旅行，每一个和我们走过一段的人都值得感激。“生命，不长不短，刚好够用来好好看看这个世界。”</summary></entry><entry><title type="html">仙本那潜水之上课无聊篇</title><link href="http://naffan.cn/life/2017/01/04/1.html" rel="alternate" type="text/html" title="仙本那潜水之上课无聊篇" /><published>2017-01-04T00:00:00+08:00</published><updated>2017-01-04T00:00:00+08:00</updated><id>http://naffan.cn/life/2017/01/04/1</id><content type="html" xml:base="http://naffan.cn/life/2017/01/04/1.html">&lt;blockquote&gt;
  &lt;p&gt;旅行虽破费钱财，却使你懂得社会。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　在仙本那的第一个晚上是兴奋的同时也是疲惫的，这里的空气充满着东南亚海边潮湿的味道。我们选择的是semporna inn2旅店家庭房，这个旅馆的设施配套齐全，全天24小时热水，每天提供三瓶免费矿泉水，空调床铺家具都是新的。给我们感觉有种宾至如归的感觉，去了其他的旅馆看了看，这里的旅店大都是新建的，而且这个镇子不大，所以各种生活周边设施全挤在这几栋楼之间，让生活很是方便。但是，这里的娱乐设施很少，可以说基本没有吧。然而，来这里并不是为了娱乐而来的啊，主要是潜水，每天都要出海潜水，所以这些建设就已经能够满足正常的生活了。&lt;/p&gt;

&lt;p&gt;　　第二天起的很早，因为前一天抵达的时间非常玩，所以计划在早上多逛一逛，但是由于镇子的规模很小，你根本用不了多长时间就能够转完，这一点让我很是困惑，既然一个大家都知道的镇子，那么为什么镇子的规模还没有大到能够一眼就看出来商业化的城镇的？也许这里的商业化并不浓重吧，商人们的利益熏心还没有污染到这个镇子。&lt;/p&gt;

&lt;p&gt;　　早上的空气对于常年在北京的我简直就是奢侈，再加上不算太热的温度，让我们感觉很是舒适。在北京的时候设想一个离赤道那么近的国家，温度一定会非常高，但是当我到了这里以后并且待了7天左右以后我还是会说，这里的温度就如北京的春入夏一样，让人感觉不到一丝不适，只是太阳比较晒而已。
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa3991e51b.jpg&quot; alt=&quot;IMG_1610&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　我们报的是&lt;a href=&quot;http://www.dianping.com/shop/22966849&quot;&gt;爱潜&lt;/a&gt;的潜水课程，按照行规我们需要学习一天的理论知识，这也是我们这一天的全部。除了学习以外，就是到处逛一逛，到处吃一吃啦。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa39dc0ba7.jpg&quot; alt=&quot;IMG_1611&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　爱潜的学习课程其实就是看短片，然后做书上的习题，老师们再进行简单的讲解以后，会在课程结束以后给我们一份考试的习题，当我们完成以后再交给潜店。到我写这篇日志的时候，我已经获得了ow以及aow的资质，但是这份考题的结果我还是没有拿到呢，也就是说这份考题的意义并不在于卡学生，而是通过考试的幌子让学生死记硬背那些基本的尝试，因为这些知识都是用来在水底下保命用的。虽然，这些知识里面有些并没有太大意义（对于我现在这种程度）。但是，潜压病以及水下的安全停留是必须了解的，因为这些东西在水下一定要时刻遵守，除非你对你自己的生活不负责任。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa420d07ec.jpg&quot; alt=&quot;IMG_1616&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　上完课以后，我们随便找了家饭馆吃饭。可以说仙本那是个吃海鲜的好地方，每家饭馆都会做海鲜而且海鲜做的也都像模像样的。我记得我们点了海鲜面，海鲜饭，香蕉饼，各种饮料。&lt;/p&gt;

&lt;p&gt;　　吃完饭回来，仍然是上课。上课真的太无聊了。课程的最后，潜龙教练教我们如何看RDP表格，这样我们能够掌握重复潜水的时机以及限制了。等下课以后我们回到潜店，雄哥教授了我们如何拆卸&amp;amp;安装BCD。教练问谁愿意尝试一下，我就勇敢的举了手。真上去做了，还是忘记了之前教练教的几个步骤。但是，最终还是坎坎坷坷的安装上了。之后的每一次潜水我们都要自己实际操作的。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa45329f35.jpg&quot; alt=&quot;IMG_1617&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　回到自己的宿舍，我们就紧锣密鼓的开展了学习风暴，最终拼拼凑凑出了最后的答案。当然，过程中是欢乐的，其中充斥着各种逗比照相。哈哈&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa43b16117.jpg&quot; alt=&quot;IMG_1622&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa3b567289.jpg&quot; alt=&quot;IMG_1618&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　好了，考题我们也答完了剩下的就是吃喽。我们去了传说中的&lt;a href=&quot;http://place.qyer.com/poi/V2UJYVFiBzJTZ1I6/&quot;&gt;肥妈海鲜店&lt;/a&gt;，我们点了一些海鲜，味道确实不错，就是价格要比其他的海鲜酒店要贵。但是，最后下来总结这一条海鲜一条街后，其实肥妈左手边的那家要比肥妈更好。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa44b7a3be.jpg&quot; alt=&quot;IMG_1623&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa66fe9894.jpg&quot; alt=&quot;IMG_1626&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/06/586fa69ca9e78.jpg&quot; alt=&quot;IMG_1624&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　等吃完了晚饭后，肚子很满足。等待我们的是接下来几天的潜水课程，ow需要2天6潜，aow需要2天6潜。而刚开始学ow的时候，对我来说简直就是噩梦，从水底下上来以后我缺氧的厉害，疼痛感都让我对此行的意义产生了怀疑，不过这是后话，我会在下一篇中我是如何生不如死的。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="life" /><category term="旅行,马来西亚,自由行,潜水" /><summary type="html">旅行虽破费钱财，却使你懂得社会。</summary></entry><entry><title type="html">仙本那潜水之开启旅程篇</title><link href="http://naffan.cn/life/2017/01/03/1.html" rel="alternate" type="text/html" title="仙本那潜水之开启旅程篇" /><published>2017-01-03T00:00:00+08:00</published><updated>2017-01-03T00:00:00+08:00</updated><id>http://naffan.cn/life/2017/01/03/1</id><content type="html" xml:base="http://naffan.cn/life/2017/01/03/1.html">&lt;blockquote&gt;
  &lt;p&gt;旅游的作用就是用现实来约束想象：不是去想事情会是怎样的，而是去看它们实际上是怎样的。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;　　正如像赛缪尔约所说的这句话一样，想象是人与生俱来的能力，我们不能抛弃他同样我们也不能没有他。但是，我们不能恣意让他野蛮式的成长。所以，我们需要约束他。那么，约束他的最好方法不是通过横加阻止的野蛮方法，而是要用更加科学的方法那就是用现实。我们需要用现实来约束他，我想很多人都是会采用这种办法吧。因为，只有每一次实现你曾经的想象你才可能不再对此有恣意妄为的想象，取而代之的就会有新的想象迸发出来。他的后半句话就是对我所解释的完美诠释。这一次，我们的旅行地更换到了位于东南亚的马来西亚岛屿-仙本那，我们来这是为了实现人生中对潜水的想象。&lt;/p&gt;

&lt;p&gt;　　16年的十月中旬，杨大爷突然给我来了个电话，问我要不要一起去仙本那去学潜水。在这之前，也就是15年我们曾经有一次子菲律宾长滩时的潜水，那一次是我人生中的第一次潜水，当然第一次永远带来的都是疼痛。从那以后我没有对潜水有一丝好感，因为他给我的疼痛远胜过其中的享受。我只记得那次看到了很多兰兰绿绿的小鱼，而且也亲自喂了喂他们，我喂他们的时候他们就好像特么不听话的野兽各种从我手中夺取食物，这让我很是恼火。不过，转念一想。对于脑袋仅有那么一丁点大的动物来说，智商是他们的奢侈品，所以也就不以为然了。当我回家后，给别人看我们潜水时的视频的时候，我确实能够看到观众们的眼睛中是闪烁着光芒的。可是，当时有几个问题，最大的问题就是摄影拍摄的技巧几乎为零，让观众不是享受画面的乐趣，反而被无限的颠簸让自己看的很不舒服。另外一个问题就是，摄影的主题不明显，多数都是想拍哪拍哪没有固定的剧情主线或者说是中心主题。其次就是潜水者们基本都是被教练拖着走，在视频里感觉就是一群木偶在水底下胡乱穿行。这些视频也就是个对自己曾经去过什么地方做的留念，并不能体现出更有意义的价值。也就是因为这些原因，我才动了来的想法的。当时，做的决定根本没有经过我的深思熟虑，一直到到了仙本那的岛上还没有半点思想准备，直到真的下潜的第一天这种痛苦又回到了我的感知中。也就是我现在写下这篇文章的时候，我现在虽然翘着二郎腿躺在床上舒服的写着这篇游记，但是实际脑子中还是时不时的会涌出吐意。&lt;/p&gt;

&lt;p&gt;　　2017年1月1日，这是中国的传统节日元旦。大家应该在这个时刻和家庭成员聚在一起，可是我在凌晨6点已经坐上了起飞的飞机踏上了仙本那潜水之行。&lt;/p&gt;

&lt;p&gt;　　这天，我从梦想中被闹钟催起，父母偏要一块上机场送我。这天北京市天气黄色预警，我们在开车的过程中有一端路视距只有10米，而空气中肉眼可见的大块漂浮物一层一层地扑向我们的车窗。在这种恶略的天气中事故是不可避免的，路过一个事故是四车连撞，幸好不是我们。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586ba9d21e17d.jpg&quot; alt=&quot;北京雾霾下的高速公路事故&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　到达机场以后，我们一行人很顺利的过了安检。在之前天气预报还说元旦那天雾霾黄色预警，这让我们的行程笼罩在一层不安的气氛中，但是一切进展的很是顺利。飞机还是在很大雾霾的时候顺利起飞，并且顺利的到达了新加坡机场。我们是在中午12点的时候到达的，在这里我们也很顺利的兑换了马币以及顺利的搭乘上了去斗湖的飞机，在这段时间里我们还有时间吃了顿饭。我们还办了张电话卡，50马币可以有4G的流量并且无限流量微信以及微博。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586ba8d591b94.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586baf69560d9.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　下午三点半，飞往斗湖的飞机上我拍下了亚行的飞机路线图。这里面包括了我们的起点，转机点还有终点。我们是从北京飞往了kuala lumpur，之后再到tawau。到了斗湖机场已经是傍晚7点了。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb493f4164.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb07f30a40.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　走出斗湖机场以后，有之前联系好的接我们的小面的。不得不说淘宝的服务还是很好的，一切行程淘宝卖家都会为买家考虑完整并且价钱也算中规中矩。下图就是我们约到的车，这辆车承载了10名中国乘客，一并带我们到了仙本那镇并一一将我们带到了我们要住的酒店。司机也很礼貌，在任何情况下只要是和我们在沟通上有不明白的时候都会首先道歉。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb3f78efcc.jpg&quot; alt=&quot;IMG_1596&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　我们顺利的完成了check-in。这个时候已经是傍晚10点了。我们的肚子都是空的，所以随便找了一家餐馆打算充下饥。不得不说仙本那镇子上的每一家餐馆都不欺客，这家以及后来几天的餐馆做的饭都很地道，而且量很多，价钱也不贵。店主们也都很善良可爱可亲。&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb0cc9e4d2.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb0e426325.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb0ed94027.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb0cf944f6.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb0f0b7453.jpg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;https://ooo.0o0.ooo/2017/01/03/586bb105053b0.jpg&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;　　至此，我们在仙本那的第一天算是告一段落了。这一天过的很是平淡并且劳累，但是每一次旅行开端都会是辛苦的。毕竟不像在家门口开个车就能够到达，然而我们得跨过十万八千里。话虽这么说，后来的日子就相当难过了，大太阳底下穿着紧身衣，在盐劲十足的大海里潜下几十米，小脑不断适应不同的重力情况且不停地调整作息时间让这次旅行，其实也不能说是旅行，我们就是为了考潜水来的，应该叫学下吧，变得越发困难了。&lt;/p&gt;</content><author><name>张一帆</name></author><category term="life" /><category term="旅行,马来西亚,自由行,潜水" /><summary type="html">旅游的作用就是用现实来约束想象：不是去想事情会是怎样的，而是去看它们实际上是怎样的。</summary></entry></feed>
